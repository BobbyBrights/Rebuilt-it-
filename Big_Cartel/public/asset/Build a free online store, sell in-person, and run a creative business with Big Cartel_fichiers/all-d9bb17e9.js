(function(){var t=this,e=t._,n=Array.prototype,i=Object.prototype,o=Function.prototype,r=n.push,s=n.slice,a=n.concat,l=i.toString,u=i.hasOwnProperty,c=Array.isArray,d=Object.keys,h=o.bind,p=function(t){return t instanceof p?t:this instanceof p?void(this._wrapped=t):new p(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):t._=p,p.VERSION="1.7.0";var f=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)};case 4:return function(n,i,o,r){return t.call(e,n,i,o,r)}}return function(){return t.apply(e,arguments)}};p.iteratee=function(t,e,n){return null==t?p.identity:p.isFunction(t)?f(t,e,n):p.isObject(t)?p.matches(t):p.property(t)},p.each=p.forEach=function(t,e,n){if(null==t)return t;e=f(e,n);var i,o=t.length;if(o===+o)for(i=0;o>i;i++)e(t[i],i,t);else{var r=p.keys(t);for(i=0,o=r.length;o>i;i++)e(t[r[i]],r[i],t)}return t},p.map=p.collect=function(t,e,n){if(null==t)return[];e=p.iteratee(e,n);for(var i,o=t.length!==+t.length&&p.keys(t),r=(o||t).length,s=Array(r),a=0;r>a;a++)i=o?o[a]:a,s[a]=e(t[i],i,t);return s};var m="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(t,e,n,i){null==t&&(t=[]),e=f(e,i,4);var o,r=t.length!==+t.length&&p.keys(t),s=(r||t).length,a=0;if(arguments.length<3){if(!s)throw new TypeError(m);n=t[r?r[a++]:a++]}for(;s>a;a++)o=r?r[a]:a,n=e(n,t[o],o,t);return n},p.reduceRight=p.foldr=function(t,e,n,i){null==t&&(t=[]),e=f(e,i,4);var o,r=t.length!==+t.length&&p.keys(t),s=(r||t).length;if(arguments.length<3){if(!s)throw new TypeError(m);n=t[r?r[--s]:--s]}for(;s--;)o=r?r[s]:s,n=e(n,t[o],o,t);return n},p.find=p.detect=function(t,e,n){var i;return e=p.iteratee(e,n),p.some(t,function(t,n,o){return e(t,n,o)?(i=t,!0):void 0}),i},p.filter=p.select=function(t,e,n){var i=[];return null==t?i:(e=p.iteratee(e,n),p.each(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i)},p.reject=function(t,e,n){return p.filter(t,p.negate(p.iteratee(e)),n)},p.every=p.all=function(t,e,n){if(null==t)return!0;e=p.iteratee(e,n);var i,o,r=t.length!==+t.length&&p.keys(t),s=(r||t).length;for(i=0;s>i;i++)if(o=r?r[i]:i,!e(t[o],o,t))return!1;return!0},p.some=p.any=function(t,e,n){if(null==t)return!1;e=p.iteratee(e,n);var i,o,r=t.length!==+t.length&&p.keys(t),s=(r||t).length;for(i=0;s>i;i++)if(o=r?r[i]:i,e(t[o],o,t))return!0;return!1},p.contains=p.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=p.values(t)),p.indexOf(t,e)>=0)},p.invoke=function(t,e){var n=s.call(arguments,2),i=p.isFunction(e);return p.map(t,function(t){return(i?e:t[e]).apply(t,n)})},p.pluck=function(t,e){return p.map(t,p.property(e))},p.where=function(t,e){return p.filter(t,p.matches(e))},p.findWhere=function(t,e){return p.find(t,p.matches(e))},p.max=function(t,e,n){var i,o,r=-1/0,s=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:p.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],i>r&&(r=i)}else e=p.iteratee(e,n),p.each(t,function(t,n,i){o=e(t,n,i),(o>s||o===-1/0&&r===-1/0)&&(r=t,s=o)});return r},p.min=function(t,e,n){var i,o,r=1/0,s=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:p.values(t);for(var a=0,l=t.length;l>a;a++)i=t[a],r>i&&(r=i)}else e=p.iteratee(e,n),p.each(t,function(t,n,i){o=e(t,n,i),(s>o||1/0===o&&1/0===r)&&(r=t,s=o)});return r},p.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:p.values(t),i=n.length,o=Array(i),r=0;i>r;r++)e=p.random(0,r),e!==r&&(o[r]=o[e]),o[e]=n[r];return o},p.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=p.values(t)),t[p.random(t.length-1)]):p.shuffle(t).slice(0,Math.max(0,e))},p.sortBy=function(t,e,n){return e=p.iteratee(e,n),p.pluck(p.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var g=function(t){return function(e,n,i){var o={};return n=p.iteratee(n,i),p.each(e,function(i,r){var s=n(i,r,e);t(o,i,s)}),o}};p.groupBy=g(function(t,e,n){p.has(t,n)?t[n].push(e):t[n]=[e]}),p.indexBy=g(function(t,e,n){t[n]=e}),p.countBy=g(function(t,e,n){p.has(t,n)?t[n]++:t[n]=1}),p.sortedIndex=function(t,e,n,i){n=p.iteratee(n,i,1);for(var o=n(e),r=0,s=t.length;s>r;){var a=r+s>>>1;n(t[a])<o?r=a+1:s=a}return r},p.toArray=function(t){return t?p.isArray(t)?s.call(t):t.length===+t.length?p.map(t,p.identity):p.values(t):[]},p.size=function(t){return null==t?0:t.length===+t.length?t.length:p.keys(t).length},p.partition=function(t,e,n){e=p.iteratee(e,n);var i=[],o=[];return p.each(t,function(t,n,r){(e(t,n,r)?i:o).push(t)}),[i,o]},p.first=p.head=p.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:s.call(t,0,e)},p.initial=function(t,e,n){return s.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},p.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},p.rest=p.tail=p.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},p.compact=function(t){return p.filter(t,p.identity)};var v=function(t,e,n,i){if(e&&p.every(t,p.isArray))return a.apply(i,t);for(var o=0,s=t.length;s>o;o++){var l=t[o];p.isArray(l)||p.isArguments(l)?e?r.apply(i,l):v(l,e,n,i):n||i.push(l)}return i};p.flatten=function(t,e){return v(t,e,!1,[])},p.without=function(t){return p.difference(t,s.call(arguments,1))},p.uniq=p.unique=function(t,e,n,i){if(null==t)return[];p.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=p.iteratee(n,i));for(var o=[],r=[],s=0,a=t.length;a>s;s++){var l=t[s];if(e)s&&r===l||o.push(l),r=l;else if(n){var u=n(l,s,t);p.indexOf(r,u)<0&&(r.push(u),o.push(l))}else p.indexOf(o,l)<0&&o.push(l)}return o},p.union=function(){return p.uniq(v(arguments,!0,!0,[]))},p.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,i=0,o=t.length;o>i;i++){var r=t[i];if(!p.contains(e,r)){for(var s=1;n>s&&p.contains(arguments[s],r);s++);s===n&&e.push(r)}}return e},p.difference=function(t){var e=v(s.call(arguments,1),!0,!0,[]);return p.filter(t,function(t){return!p.contains(e,t)})},p.zip=function(t){if(null==t)return[];for(var e=p.max(arguments,"length").length,n=Array(e),i=0;e>i;i++)n[i]=p.pluck(arguments,i);return n},p.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;o>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},p.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return i=p.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,o+n):n}for(;o>i;i++)if(t[i]===e)return i;return-1},p.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=t.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(t[i]===e)return i;return-1},p.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=Array(i),r=0;i>r;r++,t+=n)o[r]=t;return o};var y=function(){};p.bind=function(t,e){var n,i;if(h&&t.bind===h)return h.apply(t,s.call(arguments,1));if(!p.isFunction(t))throw new TypeError("Bind must be called on a function");return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return t.apply(e,n.concat(s.call(arguments)));y.prototype=t.prototype;var o=new y;y.prototype=null;var r=t.apply(o,n.concat(s.call(arguments)));return p.isObject(r)?r:o}},p.partial=function(t){var e=s.call(arguments,1);return function(){for(var n=0,i=e.slice(),o=0,r=i.length;r>o;o++)i[o]===p&&(i[o]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return t.apply(this,i)}},p.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=p.bind(t[n],t);return t},p.memoize=function(t,e){var n=function(i){var o=n.cache,r=e?e.apply(this,arguments):i;return p.has(o,r)||(o[r]=t.apply(this,arguments)),o[r]};return n.cache={},n},p.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},p.defer=function(t){return p.delay.apply(p,[t,1].concat(s.call(arguments,1)))},p.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:p.now(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var u=p.now();a||n.leading!==!1||(a=u);var c=e-(u-a);return i=this,o=arguments,0>=c||c>e?(clearTimeout(s),s=null,a=u,r=t.apply(i,o),s||(i=o=null)):s||n.trailing===!1||(s=setTimeout(l,c)),r}},p.debounce=function(t,e,n){var i,o,r,s,a,l=function(){var u=p.now()-s;e>u&&u>0?i=setTimeout(l,e-u):(i=null,n||(a=t.apply(r,o),i||(r=o=null)))};return function(){r=this,o=arguments,s=p.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(a=t.apply(r,o),r=o=null),a}},p.wrap=function(t,e){return p.partial(e,t)},p.negate=function(t){return function(){return!t.apply(this,arguments)}},p.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},p.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},p.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},p.once=p.partial(p.before,2),p.keys=function(t){if(!p.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)p.has(t,n)&&e.push(n);return e},p.values=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),o=0;n>o;o++)i[o]=t[e[o]];return i},p.pairs=function(t){for(var e=p.keys(t),n=e.length,i=Array(n),o=0;n>o;o++)i[o]=[e[o],t[e[o]]];return i},p.invert=function(t){for(var e={},n=p.keys(t),i=0,o=n.length;o>i;i++)e[t[n[i]]]=n[i];return e},p.functions=p.methods=function(t){var e=[];for(var n in t)p.isFunction(t[n])&&e.push(n);return e.sort()},p.extend=function(t){if(!p.isObject(t))return t;for(var e,n,i=1,o=arguments.length;o>i;i++){e=arguments[i];for(n in e)u.call(e,n)&&(t[n]=e[n])}return t},p.pick=function(t,e,n){var i,o={};if(null==t)return o;if(p.isFunction(e)){e=f(e,n);for(i in t){var r=t[i];e(r,i,t)&&(o[i]=r)}}else{var l=a.apply([],s.call(arguments,1));t=new Object(t);for(var u=0,c=l.length;c>u;u++)i=l[u],i in t&&(o[i]=t[i])}return o},p.omit=function(t,e,n){if(p.isFunction(e))e=p.negate(e);else{var i=p.map(a.apply([],s.call(arguments,1)),String);e=function(t,e){return!p.contains(i,e)}}return p.pick(t,e,n)},p.defaults=function(t){if(!p.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t},p.clone=function(t){return p.isObject(t)?p.isArray(t)?t.slice():p.extend({},t):t},p.tap=function(t,e){return e(t),t};var w=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof p&&(t=t._wrapped),e instanceof p&&(e=e._wrapped);var o=l.call(t);if(o!==l.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]===t)return i[r]===e;var s=t.constructor,a=e.constructor;if(s!==a&&"constructor"in t&&"constructor"in e&&!(p.isFunction(s)&&s instanceof s&&p.isFunction(a)&&a instanceof a))return!1;n.push(t),i.push(e);var u,c;if("[object Array]"===o){if(u=t.length,c=u===e.length)for(;u--&&(c=w(t[u],e[u],n,i)););}else{var d,h=p.keys(t);if(u=h.length,c=p.keys(e).length===u)for(;u--&&(d=h[u],c=p.has(e,d)&&w(t[d],e[d],n,i)););}return n.pop(),i.pop(),c};p.isEqual=function(t,e){return w(t,e,[],[])},p.isEmpty=function(t){if(null==t)return!0;if(p.isArray(t)||p.isString(t)||p.isArguments(t))return 0===t.length;for(var e in t)if(p.has(t,e))return!1;return!0},p.isElement=function(t){return!(!t||1!==t.nodeType)},p.isArray=c||function(t){return"[object Array]"===l.call(t)},p.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){p["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),p.isArguments(arguments)||(p.isArguments=function(t){return p.has(t,"callee")}),"function"!=typeof/./&&(p.isFunction=function(t){return"function"==typeof t||!1}),p.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},p.isNaN=function(t){return p.isNumber(t)&&t!==+t},p.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},p.isNull=function(t){return null===t},p.isUndefined=function(t){return void 0===t},p.has=function(t,e){return null!=t&&u.call(t,e)},p.noConflict=function(){return t._=e,this},p.identity=function(t){return t},p.constant=function(t){return function(){return t}},p.noop=function(){},p.property=function(t){return function(e){return e[t]}},p.matches=function(t){var e=p.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var i=0;n>i;i++){var o=e[i],r=o[0];if(o[1]!==t[r]||!(r in t))return!1}return!0}},p.times=function(t,e,n){var i=Array(Math.max(0,t));e=f(e,n,1);for(var o=0;t>o;o++)i[o]=e(o);return i},p.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},p.now=Date.now||function(){return(new Date).getTime()};var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=p.invert(b),S=function(t){var e=function(e){return t[e]},n="(?:"+p.keys(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}};p.escape=S(b),p.unescape=S(x),p.result=function(t,e){if(null==t)return void 0;var n=t[e];return p.isFunction(n)?t[e]():n};var k=0;p.uniqueId=function(t){var e=++k+"";return t?t+e:e},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,_={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},T=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+_[t]};p.template=function(t,e,n){!e&&n&&(e=n),e=p.defaults({},e,p.templateSettings);var i=RegExp([(e.escape||C).source,(e.interpolate||C).source,(e.evaluate||C).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,i,s,a){return r+=t.slice(o,a).replace(T,$),o=a+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(r+="';\n"+s+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var s=new Function(e.variable||"obj","_",r)}catch(a){throw a.source=r,a}var l=function(t){return s.call(this,t,p)},u=e.variable||"obj";return l.source="function("+u+"){\n"+r+"}",l},p.chain=function(t){var e=p(t);return e._chain=!0,e};var E=function(t){return this._chain?p(t).chain():t};p.mixin=function(t){p.each(p.functions(t),function(e){var n=p[e]=t[e];p.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),E.call(this,n.apply(p,t))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];p.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],E.call(this,n)}}),p.each(["concat","join","slice"],function(t){var e=n[t];p.prototype[t]=function(){return E.call(this,e.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,o){t.Backbone=e(t,o,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){{var o=t.Backbone,r=[],s=(r.push,r.slice);r.splice}e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){if(!u(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var o=this,r=n.once(function(){o.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,i)},off:function(t,e,i){var o,r,s,a,l,c,d,h;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(a=t?[t]:n.keys(this._events),l=0,c=a.length;c>l;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=o=[],e||i)for(d=0,h=s.length;h>d;d++)r=s[d],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&o.push(r);o.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},stopListening:function(t,e,i){var o=this._listeningTo;if(!o)return this;var r=!e&&!i;i||"object"!=typeof e||(i=this),t&&((o={})[t._listenId]=t);for(var s in o)t=o[s],t.off(e,i,this),(r||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},l=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(i));return!1}if(l.test(n)){for(var r=n.split(l),s=0,a=r.length;a>s;s++)t[e].apply(t,[r[s]].concat(i));return!1}return!0},c=function(t,e){var n,i=-1,o=t.length,r=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<o;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r);return;case 2:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s);return;case 3:for(;++i<o;)(n=t[i]).callback.call(n.ctx,r,s,a);return;default:for(;++i<o;)(n=t[i]).callback.apply(n.ctx,e);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(t,e){a[e]=function(e,i,o){var r=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return r[s]=e,o||"object"!=typeof i||(o=this),e[t](i,o,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var h=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var o,r,s,a,l,u,c,d;if(null==t)return this;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(o in r)e=r[o],n.isEqual(d[o],e)||a.push(o),n.isEqual(c[o],e)?delete this.changed[o]:this.changed[o]=e,s?delete d[o]:d[o]=e;if(!l){a.length&&(this._pending=i);for(var h=0,p=a.length;p>h;h++)this.trigger("change:"+a[h],this,d[a[h]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,o=this._changing?this._previousAttributes:this.attributes;for(var r in t)n.isEqual(o[r],e=t[r])||((i||(i={}))[r]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,i){var o,r,s,a=this.attributes;if(null==t||"object"==typeof t?(o=t,i=e):(o={})[t]=e,i=n.extend({validate:!0},i),o&&!i.wait){if(!this.set(o,i))return!1}else if(!this._validate(o,i))return!1;o&&i.wait&&(this.attributes=n.extend({},a,o)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(t){l.attributes=a;var e=l.parse(t,i);return i.wait&&(e=n.extend(o||{},e)),n.isObject(e)&&!l.set(e,i)?!1:(u&&u(l,t,i),void l.trigger("sync",l,t,i))},R(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=o),s=this.sync(r,this,i),o&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,o=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&o(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;R(this,t);var r=this.sync("delete",this,t);return t.wait||o(),r},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||B();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(t){h.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var f=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,a,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,g))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var o,r,s,a;for(o=0,r=t.length;r>o;o++)a=t[o]=this.get(t[o]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,m),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var o,r,s,a,l,u,c,d=e.at,p=this.model,f=this.comparator&&null==d&&e.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],w={},b=e.add,x=e.merge,S=e.remove,k=!f&&b&&S?[]:!1;for(o=0,r=t.length;r>o;o++){if(l=t[o]||{},s=l instanceof h?a=l:l[p.prototype.idAttribute||"id"],u=this.get(s))S&&(w[u.cid]=!0),x&&(l=l===a?a.attributes:l,e.parse&&(l=u.parse(l,e)),u.set(l,e),f&&!c&&u.hasChanged(g)&&(c=!0)),t[o]=u;else if(b){if(a=t[o]=this._prepareModel(l,e),!a)continue;v.push(a),this._addReference(a,e)}a=u||a,!k||!a.isNew()&&w[a.id]||k.push(a),w[a.id]=!0}if(S){for(o=0,r=this.length;r>o;++o)w[(a=this.models[o]).cid]||y.push(a);y.length&&this.remove(y,e)}if(v.length||k&&k.length)if(f&&(c=!0),this.length+=v.length,null!=d)for(o=0,r=v.length;r>o;o++)this.models.splice(d+o,0,v[o]);else{k&&(this.models.length=0);var C=k||v;for(o=0,r=C.length;r>o;o++)this.models.push(C[o])}if(c&&this.sort({silent:!0}),!e.silent){for(o=0,r=v.length;r>o;o++)(a=v[o]).trigger("add",a,this,e);(c||k&&k.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,o=this.models.length;o>i;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var o=t.reset?"reset":"set";i[o](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,o=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),o&&o(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){f.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){f.prototype[t]=function(e,i){var o=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,o,i)}});var w=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(w.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var o=e.match(b),r=o[1],s=o[2];i=n.bind(i,this),r+=".delegateEvents"+this.cid,""===s?this.$el.on(r,i):this.$el.on(r,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,o){var r=k[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:r,dataType:"json"};if(o.url||(s.url=n.result(i,"url")||B()),null!=o.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(o.attrs||i.toJSON(o))),o.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),o.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",o.emulateJSON&&(s.data._method=r);var a=o.beforeSend;o.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===s.type||o.emulateJSON||(s.processData=!1),"PATCH"===s.type&&S&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=e.ajax(n.extend(s,o));return i.trigger("request",i,l,o),l};var S=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,$=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,a,{initialize:function(){},route:function(t,i,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(o=i,i=""),o||(o=this[i]);var r=this;return e.history.route(t,function(n){var s=r._extractParameters(t,n);r.execute(o,s),r.trigger.apply(r,["route:"+i].concat(s)),r.trigger("route",i,s),e.history.trigger("route",r,i,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(_,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace($,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var P=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,A=/msie [\w.]+/,I=/\/$/,H=/#.*$/;P.started=!1,n.extend(P.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(I,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(L,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),o=document.documentMode,r=A.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);if(this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()
},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!P.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(H,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new P;var j=function(t,e){var i,o=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(i,o,e);var r=function(){this.constructor=i};return r.prototype=o.prototype,i.prototype=new r,t&&n.extend(i.prototype,t),i.__super__=o.prototype,i};h.extend=f.extend=C.extend=w.extend=P.extend=j;var B=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["underscore","backbone"],function(){return e.apply(t,arguments)}):"object"==typeof module&&module.exports?module.exports=e.call(t,require("underscore"),require("backbone")):e.call(t,t._,t.Backbone)}("object"==typeof global?global:this,function(t,e){"use strict";var n=function(e,n){return e&&e[n]?t.isFunction(e[n])?e[n]():e[n]:null},i=/^(\S+)\s*(.*)$/;return t.extend(e.View.prototype,{_touching:!1,touchPrevents:!0,touchThreshold:10,isTouch:this.document&&"ontouchstart"in this.document&&!("callPhantom"in this),delegateEvents:function(e){if(e||(e=n(this,"events"))){this.undelegateEvents();var o=".delegateEvents"+this.cid;t(e).each(function(n,r){if(t.isFunction(n)||(n=this[e[r]]),!n)throw new Error('Method "'+e[r]+'" does not exist');var s=r.match(i),a=s[1],l=s[2],u=t.bind(this._touchHandler,this);n=t.bind(n,this),this._useTouchHandlers(a,l)?(this.$el.on("touchstart"+o,l,u),this.$el.on("touchend"+o,l,{method:n},u),this.$el.on(a,l,n)):(a+=o,""===l?this.$el.bind(a,n):this.$el.on(a,l,n))},this)}},_useTouchHandlers:function(t){return this.isTouch&&"click"===t},_touchHandler:function(t){var e=t.originalEvent||t;if("changedTouches"in e){var n=e.changedTouches[0],i=n.clientX,o=n.clientY;switch(t.type){case"touchstart":this._touching=[i,o];break;case"touchend":var r=this._touching[0],s=this._touching[1],a=this.touchThreshold;r+a>i&&i>r-a&&s+a>o&&o>s-a&&(this._touching=!1,this.touchPrevents&&(t.preventDefault(),t.stopPropagation()),t.data.method(t))}}}}),e}),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if("object"==typeof t){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if("object"===n)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):t.eventie=r}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,i){return e(t,n,i)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,n){function i(t,e){for(var n in e)t[n]=e[n];return t}function o(t){return"[object Array]"===h.call(t)}function r(t){var e=[];if(o(t))e=t;else if("number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e}function s(t,e,n){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=i({},this.options),"function"==typeof e?n=e:i(this.options,e),n&&this.on("always",n),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var o=this;setTimeout(function(){o.check()})}function a(t){this.img=t}function l(t){this.src=t,p[t]=this}var u=t.jQuery,c=t.console,d="undefined"!=typeof c,h=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var o=n.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var a=o[r];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,o){return e.options.debug&&d&&c.log("confirm",t,o),e.progress(t),n++,n===i&&e.complete(),!0}var e=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var o=0;i>o;o++){var r=this.images[o];r.on("confirm",t),r.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}})},u&&(u.fn.imagesLoaded=function(t,e){var n=new s(this,t,e);return n.jqDeferred.promise(u(this))}),a.prototype=new e,a.prototype.check=function(){var t=p[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,n){return e.confirm(t.isLoaded,n),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var p={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},s});var Froogaloop=function(){function t(e){return new t.fn.init(e)}function e(t,e,n){if(!n.contentWindow.postMessage)return!1;var i=JSON.stringify({method:t,value:e});n.contentWindow.postMessage(i,u)}function n(t){var e,n;try{e=JSON.parse(t.data),n=e.event||e.method}catch(i){}if("ready"!=n||l||(l=!0),!/^https?:\/\/player.vimeo.com/.test(t.origin))return!1;"*"===u&&(u=t.origin);var r=e.value,s=e.data,a=""===a?null:e.player_id,c=o(n,a),d=[];return c?(void 0!==r&&d.push(r),s&&d.push(s),a&&d.push(a),d.length>0?c.apply(null,d):c.call()):!1}function i(t,e,n){n?(a[n]||(a[n]={}),a[n][t]=e):a[t]=e}function o(t,e){return e?a.hasOwnProperty(e)&&a[e][t]:a[t]}function r(t,e){if(e&&a[e]){if(!a[e][t])return!1;a[e][t]=null}else{if(!a[t])return!1;a[t]=null}return!0}function s(t){return!!(t&&t.constructor&&t.call&&t.apply)}var a={},l=!1,u=(Array.prototype.slice,"*");return t.fn=t.prototype={element:null,init:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.element=t,this},api:function(t,n){if(!this.element||!t)return!1;var o=this,r=o.element,a=""!==r.id?r.id:null,l=s(n)?null:n,u=s(n)?n:null;return u&&i(t,u,a),e(t,l,r),o},addEvent:function(t,n){if(!this.element)return!1;var o=this,r=o.element,s=""!==r.id?r.id:null;return i(t,n,s),"ready"!=t?e("addEventListener",t,r):"ready"==t&&l&&n.call(null,s),o},removeEvent:function(t){if(!this.element)return!1;var n=this,i=n.element,o=""!==i.id?i.id:null,s=r(t,o);"ready"!=t&&s&&e("removeEventListener",t,i)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=t}();/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(t,e,n,i){"use strict";var o=n("html"),r=n(t),s=n(e),a=n.fancybox=function(){a.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/i),u=null,c=e.createTouch!==i,d=function(t){return t&&t.hasOwnProperty&&t instanceof n},h=function(t){return t&&"string"===n.type(t)},p=function(t){return h(t)&&t.indexOf("%")>0},f=function(t){return t&&!(t.style.overflow&&"hidden"===t.style.overflow)&&(t.clientWidth&&t.scrollWidth>t.clientWidth||t.clientHeight&&t.scrollHeight>t.clientHeight)},m=function(t,e){var n=parseInt(t,10)||0;return e&&p(t)&&(n=a.getViewport()[e]/100*n),Math.ceil(n)},g=function(t,e){return m(t,e)+"px"};n.extend(a,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){return t&&(n.isPlainObject(e)||(e={}),!1!==a.close(!0))?(n.isArray(t)||(t=d(t)?n(t).get():[t]),n.each(t,function(o,r){var s,l,u,c,p,f,m,g={};"object"===n.type(r)&&(r.nodeType&&(r=n(r)),d(r)?(g={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},n.metadata&&n.extend(!0,g,r.metadata())):g=r),s=e.href||g.href||(h(r)?r:null),l=e.title!==i?e.title:g.title||"",u=e.content||g.content,c=u?"html":e.type||g.type,!c&&g.isDom&&(c=r.data("fancybox-type"),c||(p=r.prop("class").match(/fancybox\.(\w+)/),c=p?p[1]:null)),h(s)&&(c||(a.isImage(s)?c="image":a.isSWF(s)?c="swf":"#"===s.charAt(0)?c="inline":h(r)&&(c="html",u=r)),"ajax"===c&&(f=s.split(/\s+/,2),s=f.shift(),m=f.shift())),u||("inline"===c?s?u=n(h(s)?s.replace(/.*(?=#[^\s]+$)/,""):s):g.isDom&&(u=r):"html"===c?u=s:c||s||!g.isDom||(c="inline",u=r)),n.extend(g,{href:s,type:c,content:u,title:l,selector:m}),t[o]=g}),a.opts=n.extend(!0,{},a.defaults,e),e.keys!==i&&(a.opts.keys=e.keys?n.extend({},a.defaults.keys,e.keys):!1),a.group=t,a._start(a.opts.index)):void 0},cancel:function(){var t=a.coming;t&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(t))},close:function(t){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&t!==!0?(a.isOpen=a.isOpened=!1,a.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(a.player.timer)},n=function(){e(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},i=function(){e(),s.unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")},o=function(){a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,s.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),a.trigger("onPlayStart"))};t===!0||!a.player.isActive&&t!==!1?o():i()},next:function(t){var e=a.current;e&&(h(t)||(t=e.direction.next),a.jumpto(e.index+1,t,"next"))},prev:function(t){var e=a.current;e&&(h(t)||(t=e.direction.prev),a.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var o=a.current;o&&(t=m(t),a.direction=e||o.direction[t>=o.index?"next":"prev"],a.router=n||"jumpto",o.loop&&(0>t&&(t=o.group.length+t%o.group.length),t%=o.group.length),o.group[t]!==i&&(a.cancel(),a._start(t)))},reposition:function(t,e){var i,o=a.current,r=o?o.wrap:null;r&&(i=a._getPosition(e),t&&"scroll"===t.type?(delete i.position,r.stop(!0,!0).animate(i,200)):(r.css(i),o.pos=n.extend({},o.dim,i)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(u),u=null),a.isOpen&&!u&&(u=setTimeout(function(){var i=a.current;i&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&a._setDimension(),"scroll"===e&&i.canShrink||a.reposition(t),a.trigger("onUpdate"),u=null)},n&&!c?0:300))},toggle:function(t){a.isOpen&&(a.current.fitToView="boolean"===n.type(t)?t:!a.current.fitToView,c&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){s.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var t,e;a.hideLoading(),t=n('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),s.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),a.cancel())}),a.defaults.fixed||(e=a.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var e=a.current&&a.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return e?(n.w=e[0].clientWidth,n.h=e[0].clientHeight):(n.w=c&&t.innerWidth?t.innerWidth:r.width(),n.h=c&&t.innerHeight?t.innerHeight:r.height()),n},unbindEvents:function(){a.wrap&&d(a.wrap)&&a.wrap.unbind(".fb"),s.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var t,e=a.current;e&&(r.bind("orientationchange.fb"+(c?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),a.update),t=e.keys,t&&s.bind("keydown.fb",function(o){var r=o.which||o.keyCode,s=o.target||o.srcElement;return 27===r&&a.coming?!1:void(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||s&&(s.type||n(s).is("[contenteditable]"))||n.each(t,function(t,s){return e.group.length>1&&s[r]!==i?(a[t](s[r]),o.preventDefault(),!1):n.inArray(r,s)>-1?(a[t](),o.preventDefault(),!1):void 0}))}),n.fn.mousewheel&&e.mouseWheel&&a.wrap.bind("mousewheel.fb",function(t,i,o,r){for(var s=t.target||null,l=n(s),u=!1;l.length&&!(u||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)u=f(l[0]),l=n(l).parent();0===i||u||a.group.length>1&&!e.canShrink&&(r>0||o>0?a.prev(r>0?"down":"left"):(0>r||0>o)&&a.next(0>r?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var i,o=e||a.coming||a.current;if(o){if(n.isFunction(o[t])&&(i=o[t].apply(o,Array.prototype.slice.call(arguments,1))),i===!1)return!1;o.helpers&&n.each(o.helpers,function(e,i){i&&a.helpers[e]&&n.isFunction(a.helpers[e][t])&&a.helpers[e][t](n.extend(!0,{},a.helpers[e].defaults,i),o)}),s.trigger(t)}},isImage:function(t){return h(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return h(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,i,o,r,s,l={};if(t=m(t),e=a.group[t]||null,!e)return!1;if(l=n.extend(!0,{},a.opts,e),r=l.margin,s=l.padding,"number"===n.type(r)&&(l.margin=[r,r,r,r]),"number"===n.type(s)&&(l.padding=[s,s,s,s]),l.modal&&n.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=a.group,l.index=t,a.coming=l,!1===a.trigger("beforeLoad"))return void(a.coming=null);if(o=l.type,i=l.href,!o)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=t,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===o||"swf"===o)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===o&&(l.aspectRatio=!0),"iframe"===o&&c&&(l.scrolling="scroll"),l.wrap=n(l.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+o+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),n.extend(l,{skin:n(".fancybox-skin",l.wrap),outer:n(".fancybox-outer",l.wrap),inner:n(".fancybox-inner",l.wrap)}),n.each(["Top","Right","Bottom","Left"],function(t,e){l.skin.css("padding"+e,g(l.padding[t]))}),a.trigger("onReady"),"inline"===o||"html"===o){if(!l.content||!l.content.length)return a._error("content")}else if(!i)return a._error("href");"image"===o?a._loadImage():"ajax"===o?a._loadAjax():"iframe"===o?a._loadIframe():a._afterLoad()},_error:function(t){n.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var t=a.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width/a.opts.pixelRatio,a.coming.height=this.height/a.opts.pixelRatio,a._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,a._error("image")},t.src=a.coming.href,t.complete!==!0&&a.showLoading()},_loadAjax:function(){var t=a.coming;a.showLoading(),a.ajaxLoad=n.ajax(n.extend({},t.ajax,{url:t.href,error:function(t,e){a.coming&&"abort"!==e?a._error("ajax",t):a.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,a._afterLoad())}}))},_loadIframe:function(){var t=a.coming,e=n(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":t.iframe.scrolling).attr("src",t.href);n(t.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(a.showLoading(),e.one("load",function(){n(this).data("ready",1),c||n(this).bind("load.fb",a.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||a._afterLoad()},_preloadImages:function(){var t,e,n=a.group,i=a.current,o=n.length,r=i.preload?Math.min(i.preload,o-1):0;for(e=1;r>=e;e+=1)t=n[(i.index+e)%o],"image"===t.type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,i,o,r,s,l=a.coming,u=a.current,c="fancybox-placeholder";if(a.hideLoading(),l&&a.isActive!==!1){if(!1===a.trigger("afterLoad",l,u))return l.wrap.stop(!0).trigger("onReset").remove(),void(a.coming=null);switch(u&&(a.trigger("beforeChange",u),u.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),t=l,e=l.content,i=l.type,o=l.scrolling,n.extend(a,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:u}),r=t.href,i){case"inline":case"ajax":case"html":t.selector?e=n("<div>").html(e).find(t.selector):d(e)&&(e.data(c)||e.data(c,n('<div class="'+c+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){n(this).find(e).length&&e.hide().replaceAll(e.data(c)).data(c,!1)}));break;case"image":e=t.tpl.image.replace("{href}",r);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+r+'"></param>',s="",n.each(t.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',s+=" "+t+'="'+n+'"'}),e+='<embed src="'+r+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}d(e)&&e.parent().is(t.inner)||t.inner.append(e),a.trigger("beforeShow"),t.inner.css("overflow","yes"===o?"scroll":"no"===o?"hidden":o),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?u.prevMethod&&a.transitions[u.prevMethod]():n(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?t.nextMethod:t.openMethod](),a._preloadImages()}},_setDimension:function(){var t,e,i,o,r,s,l,u,c,d,h,f,v,y,w,b=a.getViewport(),x=0,S=!1,k=!1,C=a.wrap,_=a.skin,T=a.inner,$=a.current,E=$.width,P=$.height,L=$.minWidth,O=$.minHeight,A=$.maxWidth,I=$.maxHeight,H=$.scrolling,j=$.scrollOutside?$.scrollbarWidth:0,B=$.margin,R=m(B[1]+B[3]),z=m(B[0]+B[2]);if(C.add(_).add(T).width("auto").height("auto").removeClass("fancybox-tmp"),t=m(_.outerWidth(!0)-_.width()),e=m(_.outerHeight(!0)-_.height()),i=R+t,o=z+e,r=p(E)?(b.w-i)*m(E)/100:E,s=p(P)?(b.h-o)*m(P)/100:P,"iframe"===$.type){if(y=$.content,$.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(T.width(r).height(9999),w=y.contents().find("body"),j&&w.css("overflow-x","hidden"),s=w.outerHeight(!0))}catch(M){}}else($.autoWidth||$.autoHeight)&&(T.addClass("fancybox-tmp"),$.autoWidth||T.width(r),$.autoHeight||T.height(s),$.autoWidth&&(r=T.width()),$.autoHeight&&(s=T.height()),T.removeClass("fancybox-tmp"));if(E=m(r),P=m(s),c=r/s,L=m(p(L)?m(L,"w")-i:L),A=m(p(A)?m(A,"w")-i:A),O=m(p(O)?m(O,"h")-o:O),I=m(p(I)?m(I,"h")-o:I),l=A,u=I,$.fitToView&&(A=Math.min(b.w-i,A),I=Math.min(b.h-o,I)),f=b.w-R,v=b.h-z,$.aspectRatio?(E>A&&(E=A,P=m(E/c)),P>I&&(P=I,E=m(P*c)),L>E&&(E=L,P=m(E/c)),O>P&&(P=O,E=m(P*c))):(E=Math.max(L,Math.min(E,A)),$.autoHeight&&"iframe"!==$.type&&(T.width(E),P=T.height()),P=Math.max(O,Math.min(P,I))),$.fitToView)if(T.width(E).height(P),C.width(E+t),d=C.width(),h=C.height(),$.aspectRatio)for(;(d>f||h>v)&&E>L&&P>O&&!(x++>19);)P=Math.max(O,Math.min(I,P-10)),E=m(P*c),L>E&&(E=L,P=m(E/c)),E>A&&(E=A,P=m(E/c)),T.width(E).height(P),C.width(E+t),d=C.width(),h=C.height();else E=Math.max(L,Math.min(E,E-(d-f))),P=Math.max(O,Math.min(P,P-(h-v)));j&&"auto"===H&&s>P&&f>E+t+j&&(E+=j),T.width(E).height(P),C.width(E+t),d=C.width(),h=C.height(),S=(d>f||h>v)&&E>L&&P>O,k=$.aspectRatio?l>E&&u>P&&r>E&&s>P:(l>E||u>P)&&(r>E||s>P),n.extend($,{dim:{width:g(d),height:g(h)},origWidth:r,origHeight:s,canShrink:S,canExpand:k,wPadding:t,hPadding:e,wrapSpace:h-_.outerHeight(!0),skinSpace:_.height()-P}),!y&&$.autoHeight&&P>O&&I>P&&!k&&T.height("auto")},_getPosition:function(t){var e=a.current,n=a.getViewport(),i=e.margin,o=a.wrap.width()+i[1]+i[3],r=a.wrap.height()+i[0]+i[2],s={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&r<=n.h&&o<=n.w?s.position="fixed":e.locked||(s.top+=n.y,s.left+=n.x),s.top=g(Math.max(s.top,s.top+(n.h-r)*e.topRatio)),s.left=g(Math.max(s.left,s.left+(n.w-o)*e.leftRatio)),s},_afterZoomIn:function(){var t=a.current;t&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(t.closeClick||t.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",function(e){n(e.target).is("a")||n(e.target).parent().is("a")||(e.preventDefault(),a[t.closeClick?"close":"next"]())}),t.closeBtn&&n(t.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(t){t.preventDefault(),a.close()}),t.arrows&&a.group.length>1&&((t.loop||t.index>0)&&n(t.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(t.loop||t.index<a.group.length-1)&&n(t.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),t.loop||t.index!==t.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(t){t=t||a.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",t)}}),a.transitions={getOrigPosition:function(){var t=a.current,e=t.element,n=t.orig,i={},o=50,r=50,s=t.hPadding,l=t.wPadding,u=a.getViewport();return!n&&t.isDom&&e.is(":visible")&&(n=e.find("img:first"),n.length||(n=e)),d(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),r=n.outerHeight())):(i.top=u.y+(u.h-r)*t.topRatio,i.left=u.x+(u.w-o)*t.leftRatio),("fixed"===a.wrap.css("position")||t.locked)&&(i.top-=u.y,i.left-=u.x),i={top:g(i.top-s*t.topRatio),left:g(i.left-l*t.leftRatio),width:g(o+l),height:g(r+s)}},step:function(t,e){var n,i,o,r=e.prop,s=a.current,l=s.wrapSpace,u=s.skinSpace;("width"===r||"height"===r)&&(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),a.isClosing&&(n=1-n),i="width"===r?s.wPadding:s.hPadding,o=t-i,a.skin[r](m("width"===r?o:o-l*n)),a.inner[r](m("width"===r?o:o-l*n-u*n)))},zoomIn:function(){var t=a.current,e=t.pos,i=t.openEffect,o="elastic"===i,r=n.extend({opacity:1},e);delete r.position,o?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===i&&(e.opacity=.1),a.wrap.css(e).animate(r,{duration:"none"===i?0:t.openSpeed,easing:t.openEasing,step:o?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var t=a.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),a.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var t,e=a.current,n=e.nextEffect,i=e.pos,o={opacity:1},r=a.direction,s=200;i.opacity=.1,"elastic"===n&&(t="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(i[t]=g(m(i[t])-s),o[t]="+="+s+"px"):(i[t]=g(m(i[t])+s),o[t]="-="+s+"px")),"none"===n?a._afterZoomIn():a.wrap.css(i).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var t=a.previous,e=t.prevEffect,i={opacity:.1},o=a.direction,r=200;"elastic"===e&&(i["down"===o||"up"===o?"top":"left"]=("up"===o||"left"===o?"-":"+")+"="+r+"px"),t.wrap.animate(i,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,el:n("html"),create:function(t){t=n.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo(a.coming?a.coming.parent:t.parent),this.fixed=!1,t.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=n.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){return n(t.target).hasClass("fancybox-overlay")?(a.isActive?a.close():e.close(),!1):void 0}),this.overlay.css(t.css).show()},close:function(){var t,e;r.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(n(".fancybox-margin").removeClass("fancybox-margin"),t=r.scrollTop(),e=r.scrollLeft(),this.el.removeClass("fancybox-lock"),r.scrollTop(t).scrollLeft(e)),n(".fancybox-overlay").remove().hide(),n.extend(this,{overlay:null,fixed:!1})},update:function(){var t,n="100%";this.overlay.width(n).height("100%"),l?(t=Math.max(e.documentElement.offsetWidth,e.body.offsetWidth),s.width()>t&&(n=s.width())):s.width()>r.width()&&(n=s.width()),this.overlay.width(n).height(s.height())},onReady:function(t,e){var i=this.overlay;n(".fancybox-overlay").stop(!0,!0),i||this.create(t),t.locked&&this.fixed&&e.fixed&&(i||(this.margin=s.height()>r.height()?n("html").css("margin-right").replace("px",""):!1),e.locked=this.overlay.append(e.wrap),e.fixed=!1),t.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var i,o;e.locked&&(this.margin!==!1&&(n("*").filter(function(){return"fixed"===n(this).css("position")&&!n(this).hasClass("fancybox-overlay")&&!n(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=r.scrollTop(),o=r.scrollLeft(),this.el.addClass("fancybox-lock"),r.scrollTop(i).scrollLeft(o)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!a.coming&&this.overlay.fadeOut(t.speedOut,n.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,i,o=a.current,r=o.title,s=t.type;if(n.isFunction(r)&&(r=r.call(o.element,o)),h(r)&&""!==n.trim(r)){switch(e=n('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+r+"</div>"),s){case"inside":i=a.skin;break;case"outside":i=a.wrap;break;case"over":i=a.inner;break;default:i=a.skin,e.appendTo("body"),l&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(m(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(t){var e,i=n(this),o=this.selector||"",r=function(r){var s,l,u=n(this).blur(),c=e;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||u.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",l=u.attr(s),l||(s="rel",l=u.get(0)[s]),l&&""!==l&&"nofollow"!==l&&(u=o.length?n(o):i,u=u.filter("["+s+'="'+l+'"]'),c=u.index(this)),t.index=c,a.open(u,t)!==!1&&r.preventDefault())};return t=t||{},e=t.index||0,o&&t.live!==!1?s.undelegate(o,"click.fb-start").delegate(o+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):i.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},s.ready(function(){var e,r;n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var t=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),i=e.innerWidth()-e.height(99).innerWidth();return t.remove(),i}),n.support.fixedPosition===i&&(n.support.fixedPosition=function(){var t=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),e=20===t[0].offsetTop||15===t[0].offsetTop;return t.remove(),e}()),n.extend(a.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")}),e=n(t).width(),o.addClass("fancybox-lock-test"),r=n(t).width(),o.removeClass("fancybox-lock-test"),n("<style type='text/css'>.fancybox-margin{margin-right:"+(r-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery),/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.3 - 2014-06-06
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2014 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^https?:\/\//i,n=/^get|post$/i,i=new RegExp("^"+location.protocol,"i");t.ajaxTransport("* text html xml json",function(o,r){if(o.crossDomain&&o.async&&n.test(o.type)&&e.test(o.url)&&i.test(o.url)){var s=null;return{send:function(e,n){var i="",a=(r.dataType||"").toLowerCase();s=new XDomainRequest,/^\d+$/.test(r.timeout)&&(s.timeout=r.timeout),s.ontimeout=function(){n(500,"timeout")},s.onload=function(){var e="Content-Length: "+s.responseText.length+"\r\nContent-Type: "+s.contentType,i={code:200,message:"success"},o={text:s.responseText};try{if("html"===a||/text\/html/i.test(s.contentType))o.html=s.responseText;else if("json"===a||"text"!==a&&/\/json/i.test(s.contentType))try{o.json=t.parseJSON(s.responseText)}catch(r){i.code=500,i.message="parseerror"}else if("xml"===a||"text"!==a&&/\/xml/i.test(s.contentType)){var l=new ActiveXObject("Microsoft.XMLDOM");l.async=!1;try{l.loadXML(s.responseText)}catch(r){l=void 0}if(!l||!l.documentElement||l.getElementsByTagName("parsererror").length)throw i.code=500,i.message="parseerror","Invalid XML: "+s.responseText;o.xml=l}}catch(u){throw u}finally{n(i.code,i.message,o,e)}},s.onprogress=function(){},s.onerror=function(){n(500,"error",{text:s.responseText})},r.data&&(i="string"===t.type(r.data)?r.data:t.param(r.data)),s.open(o.type,o.url),s.send(i)},abort:function(){s&&s.abort()}}}})}}),!function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,n){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var u=this[a],c=t.data(u,e);if(c)if(t.isFunction(c[o])&&"_"!==o.charAt(0)){var d=c[o].apply(c,s);if(void 0!==d)return d}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var i=t.data(this,e);i?(i.option(o),i._init()):(i=new n(this,o),t.data(this,e,i))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),o(t,e)},t.bridget}}var i=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n(t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(i=function(t,n,i){t[n+i]=i.handleEvent?function(){var n=e(t);i.handleEvent.call(i,n)}:function(){var n=e(t);i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var o=function(){};n.removeEventListener?o=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(o=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(i){t[e+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(this),function(t){function e(t){"function"==typeof t&&(e.isReady?t():r.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==o.readyState;if(!e.isReady&&!n){e.isReady=!0;for(var i=0,s=r.length;s>i;i++){var a=r[i];a()}}}function i(i){return i.bind(o,"DOMContentLoaded",n),i.bind(o,"readystatechange",n),i.bind(t,"load",n),e}var o=t.document,r=[];e.isReady=!1,"function"==typeof define&&define.amd?(e.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],i)):t.docReady=i(t.eventie)}(this),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var i=t.prototype,o=this,r=o.EventEmitter;i.getListeners=function(t){var e,n,i=this._getEvents();if(t instanceof RegExp){e={};for(n in i)i.hasOwnProperty(n)&&t.test(n)&&(e[n]=i[n])}else e=i[t]||(i[t]=[]);return e},i.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},i.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},i.addListener=function(t,n){var i,o=this.getListenersAsObject(t),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===e(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(t){return this.getListeners(t),this},i.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},i.removeListener=function(t,n){var i,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(i=e(r[o],n),-1!==i&&r[o].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},i.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},i.manipulateListeners=function(t,e,n){var i,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(i=n.length;i--;)r.call(this,e,n[i]);else for(i in e)e.hasOwnProperty(i)&&(o=e[i])&&("function"==typeof o?r.call(this,i,o):s.call(this,i,o));return this},i.removeEvent=function(t){var e,n=typeof t,i=this._getEvents();if("string"===n)delete i[t];else if(t instanceof RegExp)for(e in i)i.hasOwnProperty(e)&&t.test(e)&&delete i[e];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(t,e){var n,i,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(i=s[o].length;i--;)n=s[o][i],n.once===!0&&this.removeListener(t,n.listener),r=n.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},i.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof i[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=n.length;r>o;o++)if(e=n[o]+t,"string"==typeof i[e])return e}}var n="Webkit Moz ms Ms O".split(" "),i=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),n=-1===t.indexOf("%")&&!isNaN(e);return n&&e}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=s.length;n>e;e++){var i=s[e];t[i]=0}return t}function i(t){function i(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=r(t);if("none"===i.display)return n();var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var c=o.isBorderBox=!(!u||!i[u]||"border-box"!==i[u]),d=0,h=s.length;h>d;d++){var p=s[d],f=i[p];f=a(t,f);var m=parseFloat(f);o[p]=isNaN(m)?0:m}var g=o.paddingLeft+o.paddingRight,v=o.paddingTop+o.paddingBottom,y=o.marginLeft+o.marginRight,w=o.marginTop+o.marginBottom,b=o.borderLeftWidth+o.borderRightWidth,x=o.borderTopWidth+o.borderBottomWidth,S=c&&l,k=e(i.width);k!==!1&&(o.width=k+(S?0:g+b));var C=e(i.height);return C!==!1&&(o.height=C+(S?0:v+x)),o.innerWidth=o.width-(g+b),o.innerHeight=o.height-(v+x),o.outerWidth=o.width+y,o.outerHeight=o.height+w,o}}function a(t,e){if(o||-1===e.indexOf("%"))return e;var n=t.style,i=n.left,r=t.runtimeStyle,s=r&&r.left;return s&&(r.left=t.currentStyle.left),n.left=e,e=n.pixelLeft,n.left=i,s&&(r.left=s),e}var l,u=t("boxSizing");return function(){if(u){var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[u]="border-box";var n=document.body||document.documentElement;n.appendChild(t);var i=r(t);l=200===e(i.width),n.removeChild(t)}}(),i}var o=t.getComputedStyle,r=o?function(t){return o(t,null)}:function(t){return t.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],i):"object"==typeof exports?module.exports=i(require("get-style-property")):t.getSize=i(t.getStyleProperty)}(window),function(t,e){function n(t,e){return t[a](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function o(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1}function r(t,e){return i(t),n(t,e)}var s,a=function(){if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0,i=t.length;i>n;n++){var o=t[n],r=o+"MatchesSelector";if(e[r])return r}}();if(a){var l=document.createElement("div"),u=n(l,"div");s=u?n:r}else s=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return s}):window.matchesSelector=s}(this,Element.prototype),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){for(var e in t)return!1;return e=null,!0}function i(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function o(t,o,r){function a(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var l=r("transition"),u=r("transform"),c=l&&u,d=!!r("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],p=["transform","transition","transitionDuration","transitionProperty"],f=function(){for(var t={},e=0,n=p.length;n>e;e++){var i=p[e],o=r(i);o&&o!==i&&(t[i]=o)}return t}();e(a.prototype,t.prototype),a.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.getSize=function(){this.size=o(this.element)},a.prototype.css=function(t){var e=this.element.style;for(var n in t){var i=f[n]||n;e[i]=t[n]}},a.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,i=e.isOriginTop,o=parseInt(t[n?"left":"right"],10),r=parseInt(t[i?"top":"bottom"],10);o=isNaN(o)?0:o,r=isNaN(r)?0:r;var a=this.layout.size;o-=n?a.paddingLeft:a.paddingRight,r-=i?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=r},a.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={};e.isOriginLeft?(n.left=this.position.x+t.paddingLeft+"px",n.right=""):(n.right=this.position.x+t.paddingRight+"px",n.left=""),e.isOriginTop?(n.top=this.position.y+t.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+t.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var m=d?function(t,e){return"translate3d("+t+"px, "+e+"px, 0)"}:function(t,e){return"translate("+t+"px, "+e+"px)"};a.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,i=this.position.y,o=parseInt(t,10),r=parseInt(e,10),s=o===this.position.x&&r===this.position.y;if(this.setPosition(t,e),s&&!this.isTransitioning)return void this.layoutPosition();var a=t-n,l=e-i,u={},c=this.layout.options;a=c.isOriginLeft?a:-a,l=c.isOriginTop?l:-l,u.transform=m(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},a.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},a.prototype.moveTo=c?a.prototype._transitionTo:a.prototype.goTo,a.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},a.prototype._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},a.prototype._transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);var i=this.element.offsetHeight;i=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var g=u&&i(u)+",opacity";a.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:g,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},a.prototype.transition=a.prototype[l?"_transition":"_nonTransition"],a.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},a.prototype.onotransitionend=function(t){this.ontransitionend(t)};var v={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};a.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=v[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],n(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd){var o=e.onEnd[i];o.call(this),delete e.onEnd[i]}this.emitEvent("transitionEnd",[this])}},a.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},a.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var y={transitionProperty:"",transitionDuration:""};return a.prototype.removeTransitionStyles=function(){this.css(y)},a.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},a.prototype.remove=function(){if(!l||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var t=this;this.on("transitionEnd",function(){return t.removeElem(),!0}),this.hide()},a.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options;this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0})},a.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options;this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},a.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}var r=t.getComputedStyle,s=r?function(t){return r(t,null)}:function(t){return t.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(t.Outlayer={},t.Outlayer.Item=o(t.EventEmitter,t.getSize,t.getStyleProperty))}(window),function(t){function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){return"[object Array]"===d.call(t)}function i(t){var e=[];if(n(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e}function o(t,e){var n=p(e,t);-1!==n&&e.splice(n,1)}function r(t){return t.replace(/(.)([A-Z])/g,function(t,e,n){return e+"-"+n}).toLowerCase()}function s(n,s,d,p,f,m){function g(t,n){if("string"==typeof t&&(t=a.querySelector(t)),!t||!h(t))return void(l&&l.error("Bad "+this.constructor.namespace+" element: "+t));this.element=t,this.options=e({},this.constructor.defaults),this.option(n);var i=++v;this.element.outlayerGUID=i,y[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var v=0,y={};return g.namespace="outlayer",g.Item=m,g.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},e(g.prototype,d.prototype),g.prototype.option=function(t){e(this.options,t)},g.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),e(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},g.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},g.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,i=[],o=0,r=e.length;r>o;o++){var s=e[o],a=new n(s,this);i.push(a)}return i},g.prototype._filterFindItemElements=function(t){t=i(t);for(var e=this.options.itemSelector,n=[],o=0,r=t.length;r>o;o++){var s=t[o];if(h(s))if(e){f(s,e)&&n.push(s);for(var a=s.querySelectorAll(e),l=0,u=a.length;u>l;l++)n.push(a[l])}else n.push(s)}return n},g.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},g.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},g.prototype._init=g.prototype.layout,g.prototype._resetLayout=function(){this.getSize()},g.prototype.getSize=function(){this.size=p(this.element)},g.prototype._getMeasurement=function(t,e){var n,i=this.options[t];i?("string"==typeof i?n=this.element.querySelector(i):h(i)&&(n=i),this[t]=n?p(n)[e]:i):this[t]=0},g.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},g.prototype._getItemsForLayout=function(t){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n];o.isIgnored||e.push(o)}return e},g.prototype._layoutItems=function(t,e){function n(){i.emitEvent("layoutComplete",[i,t])}var i=this;if(!t||!t.length)return void n();this._itemsOn(t,"layout",n);for(var o=[],r=0,s=t.length;s>r;r++){var a=t[r],l=this._getItemLayoutPosition(a);l.item=a,l.isInstant=e||a.isLayoutInstant,o.push(l)}this._processLayoutQueue(o)},g.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},g.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var i=t[e];this._positionItem(i.item,i.x,i.y,i.isInstant)}},g.prototype._positionItem=function(t,e,n,i){i?t.goTo(e,n):t.moveTo(e,n)},g.prototype._postLayout=function(){this.resizeContainer()},g.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},g.prototype._getContainerSize=c,g.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},g.prototype._itemsOn=function(t,e,n){function i(){return o++,o===r&&n.call(s),!0}for(var o=0,r=t.length,s=this,a=0,l=t.length;l>a;a++){var u=t[a];u.on(e,i)}},g.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},g.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},g.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var i=t[e];this.ignore(i)}}},g.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var i=t[e];o(i,this.stamps),this.unignore(i)}},g.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i(t)):void 0},g.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},g.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},g.prototype._manageStamp=c,g.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=p(t),o={left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom};return o},g.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},g.prototype.bindResize=function(){this.isResizeBound||(n.bind(t,"resize",this),this.isResizeBound=!0)},g.prototype.unbindResize=function(){this.isResizeBound&&n.unbind(t,"resize",this),this.isResizeBound=!1},g.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},g.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},g.prototype.needsResizeLayout=function(){var t=p(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},g.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},g.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},g.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},g.prototype.reveal=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.reveal()}},g.prototype.hide=function(t){var e=t&&t.length;if(e)for(var n=0;e>n;n++){var i=t[n];i.hide()}},g.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];if(i.element===t)return i}},g.prototype.getItems=function(t){if(t&&t.length){for(var e=[],n=0,i=t.length;i>n;n++){var o=t[n],r=this.getItem(o);r&&e.push(r)}return e}},g.prototype.remove=function(t){t=i(t);var e=this.getItems(t);if(e&&e.length){this._itemsOn(e,"remove",function(){this.emitEvent("removeComplete",[this,e])});for(var n=0,r=e.length;r>n;n++){var s=e[n];s.remove(),o(s,this.items)}}},g.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){var i=this.items[e];i.destroy()}this.unbindResize(),delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},g.data=function(t){var e=t&&t.outlayerGUID;return e&&y[e]},g.create=function(t,n){function i(){g.apply(this,arguments)}return Object.create?i.prototype=Object.create(g.prototype):e(i.prototype,g.prototype),i.prototype.constructor=i,i.defaults=e({},g.defaults),e(i.defaults,n),i.prototype.settings={},i.namespace=t,i.data=g.data,i.Item=function(){m.apply(this,arguments)},i.Item.prototype=new m,s(function(){for(var e=r(t),n=a.querySelectorAll(".js-"+e),o="data-"+e+"-options",s=0,c=n.length;c>s;s++){var d,h=n[s],p=h.getAttribute(o);try{d=p&&JSON.parse(p)}catch(f){l&&l.error("Error parsing "+o+" on "+h.nodeName.toLowerCase()+(h.id?"#"+h.id:"")+": "+f);continue}var m=new i(h,d);u&&u.data(h,t,m)}}),u&&u.bridget&&u.bridget(t,i),i},g.Item=m,g}var a=t.document,l=t.console,u=t.jQuery,c=function(){},d=Object.prototype.toString,h="object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName},p=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],s):t.Outlayer=s(t.eventie,t.docReady,t.EventEmitter,t.getSize,t.matchesSelector,t.Outlayer.Item)}(window),function(t){function e(t,e){var i=t.create("masonry");return i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},i.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var r=this._getColGroup(o),s=Math.min.apply(Math,r),a=n(r,s),l={x:this.columnWidth*a,y:s},u=s+t.size.outerHeight,c=this.cols+1-r.length,d=0;c>d;d++)this.colYs[a+d]=u;return l},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,i=0;n>i;i++){var o=this.colYs.slice(i,i+t);e[i]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var n=e(t),i=this._getElementOffset(t),o=this.options.isOriginLeft?i.left:i.right,r=o+n.outerWidth,s=Math.floor(o/this.columnWidth);s=Math.max(0,s);var a=Math.floor(r/this.columnWidth);a-=r%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this.options.isOriginTop?i.top:i.bottom)+n.outerHeight,u=s;a>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},i}var n=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;i>n;n++){var o=t[n];if(o===e)return n}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):t.Masonry=e(t.Outlayer,t.getSize)}(window),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};e=function(){function e(e,i){var o,r,s=this;if(s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(e),appendDots:t(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return'<button type="button" data-role="none">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1,waitForAnimate:!0},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},t.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.paused=!1,s.positionProp=null,s.$slider=t(e),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.windowWidth=0,s.windowTimer=null,s.options=t.extend({},s.defaults,i),s.originalSettings=s.options,o=s.options.responsive||null,o&&o.length>-1){for(r in o)o.hasOwnProperty(r)&&(s.breakpoints.push(o[r].breakpoint),s.breakpointSettings[o[r].breakpoint]=o[r].settings);s.breakpoints.sort(function(t,e){return e-t})}s.autoPlay=t.proxy(s.autoPlay,s),s.autoPlayClear=t.proxy(s.autoPlayClear,s),s.changeSlide=t.proxy(s.changeSlide,s),s.selectHandler=t.proxy(s.selectHandler,s),s.setPosition=t.proxy(s.setPosition,s),s.swipeHandler=t.proxy(s.swipeHandler,s),s.dragHandler=t.proxy(s.dragHandler,s),s.keyHandler=t.proxy(s.keyHandler,s),s.autoPlayIterator=t.proxy(s.autoPlayIterator,s),s.instanceUid=n++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.init()}var n=0;return e}(),e.prototype.addSlide=function(e,n,i){var o=this;if("boolean"==typeof n)i=n,n=null;else if(0>n||n>=o.slideCount)return!1;o.unload(),"number"==typeof n?0===n&&0===o.$slides.length?t(e).appendTo(o.$slideTrack):i?t(e).insertBefore(o.$slides.eq(n)):t(e).insertAfter(o.$slides.eq(n)):i===!0?t(e).prependTo(o.$slideTrack):t(e).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(e,n){t(n).attr("index",e)}),o.$slidesCache=o.$slides,o.reinit()},e.prototype.animateSlide=function(e,n){var i={},o=this;if(1===o.options.slidesToShow&&o.options.adaptiveHeight===!0&&o.options.vertical===!1){var r=o.$slides.eq(o.currentSlide).outerHeight(!0);o.$list.animate({height:r},o.options.speed)}o.options.rtl===!0&&o.options.vertical===!1&&(e=-e),o.transformsEnabled===!1?o.options.vertical===!1?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,n):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,n):o.cssTransitions===!1?t({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(t){o.options.vertical===!1?(i[o.animType]="translate("+t+"px, 0px)",o.$slideTrack.css(i)):(i[o.animType]="translate(0px,"+t+"px)",o.$slideTrack.css(i))},complete:function(){n&&n.call()}}):(o.applyTransition(),i[o.animType]=o.options.vertical===!1?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(i),n&&setTimeout(function(){o.disableTransition(),n.call()},o.options.speed))},e.prototype.applyTransition=function(t){var e=this,n={};n[e.transitionType]=e.options.fade===!1?e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:"opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer),t.slideCount>t.options.slidesToShow&&t.paused!==!0&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var e=this,n=null!=e.options.asNavFor?t(e.options.asNavFor).getSlick():null;e.options.infinite===!1?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll)):(e.currentSlide-1===0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide-n.options.slidesToScroll)):(e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll))},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=t(e.options.prevArrow),e.$nextArrow=t(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled"))},e.prototype.buildDots=function(){var e,n,i=this;if(i.options.dots===!0&&i.slideCount>i.options.slidesToShow){for(n='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)n+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";n+="</ul>",i.$dots=t(n).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("index",e)
}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),e.options.centerMode===!0&&(e.options.slidesToScroll=1,e.options.slidesToShow%2===0&&(e.options.slidesToShow=3)),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.options.accessibility===!0&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable")},e.prototype.checkResponsive=function(){var e,n,i=this;if(i.originalSettings.responsive&&i.originalSettings.responsive.length>-1&&null!==i.originalSettings.responsive){n=null;for(e in i.breakpoints)i.breakpoints.hasOwnProperty(e)&&t(window).width()<i.breakpoints[e]&&(n=i.breakpoints[e]);null!==n?null!==i.activeBreakpoint?n!==i.activeBreakpoint&&(i.activeBreakpoint=n,i.options=t.extend({},i.options,i.breakpointSettings[n]),i.refresh()):(i.activeBreakpoint=n,i.options=t.extend({},i.options,i.breakpointSettings[n]),i.refresh()):null!==i.activeBreakpoint&&(i.activeBreakpoint=null,i.options=t.extend({},i.options,i.originalSettings),i.refresh())}},e.prototype.changeSlide=function(e){var n=this,i=t(e.target),o=null!=n.options.asNavFor?t(n.options.asNavFor).getSlick():null;switch(i.is("a")&&e.preventDefault(),e.data.message){case"previous":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide-n.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide-o.options.slidesToScroll));break;case"next":n.slideCount>n.options.slidesToShow&&(n.slideHandler(n.currentSlide+n.options.slidesToScroll),null!=o&&o.slideHandler(o.currentSlide+o.options.slidesToScroll));break;case"index":var r=0===e.data.index?0:e.data.index||t(e.target).parent().index()*n.options.slidesToScroll;n.slideHandler(r),null!=o&&o.slideHandler(r);default:return}},e.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.parent().hasClass("slick-track")&&e.$slides.unwrap().unwrap(),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width",""),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),t(window).off(".slick-"+e.instanceUid),t(document).off(".slick-"+e.instanceUid)},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;n.cssTransitions===!1?(n.$slides.eq(t).css({zIndex:1e3}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:1e3}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.filterSlides=function(t){var e=this;null!==t&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=function(){var t=this;return t.currentSlide},e.prototype.getDotCount=function(){var t,e=this,n=0,i=0,o=0;for(t=e.options.infinite===!0?e.slideCount+e.options.slidesToShow-e.options.slidesToScroll:e.slideCount;t>n;)o++,i+=e.options.slidesToScroll,n=i+e.options.slidesToShow;return o},e.prototype.getLeft=function(t){var e,n,i=this,o=0;return i.slideOffset=0,n=i.$slides.first().outerHeight(),i.options.infinite===!0?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,o=n*i.options.slidesToShow*-1),i.slideCount%i.options.slidesToScroll!==0&&t+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideCount%i.options.slidesToShow*i.slideWidth*-1,o=i.slideCount%i.options.slidesToShow*n*-1)):i.slideCount%i.options.slidesToShow!==0&&t+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.options.slidesToShow*i.slideWidth-i.slideCount%i.options.slidesToShow*i.slideWidth,o=i.slideCount%i.options.slidesToShow*n),i.options.centerMode===!0&&i.options.infinite===!0?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:i.options.centerMode===!0&&(i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),e=i.options.vertical===!1?t*i.slideWidth*-1+i.slideOffset:t*n*-1+o},e.prototype.init=function(){var e=this;t(e.$slider).hasClass("slick-initialized")||(t(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.checkResponsive()),null!==e.options.onInit&&e.options.onInit.call(this,e)},e.prototype.initArrowEvents=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.on("click.slick",{message:"next"},t.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&t("li",e.$dots).on("mouseenter.slick",e.autoPlayClear).on("mouseleave.slick",e.autoPlay)},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.options.pauseOnHover===!0&&e.options.autoplay===!0&&(e.$list.on("mouseenter.slick",e.autoPlayClear),e.$list.on("mouseleave.slick",e.autoPlay)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&t(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),t(window).on("resize.slick.slick-"+e.instanceUid,function(){t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.setPosition()},50))}),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.show(),t.options.autoplay===!0&&t.autoPlay()},e.prototype.keyHandler=function(t){var e=this;37===t.keyCode?e.changeSlide({data:{message:"previous"}}):39===t.keyCode&&e.changeSlide({data:{message:"next"}})},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy")+"?"+(new Date).getTime();e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",n).removeAttr("data-lazy").removeClass("slick-loading")})}var n,i,o,r,s=this;s.options.centerMode===!0?s.options.infinite===!0?(o=s.currentSlide+(s.options.slidesToShow/2+1),r=o+s.options.slidesToShow+2):(o=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),r=2+(s.options.slidesToShow/2+1)+s.currentSlide):(o=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,r=o+s.options.slidesToShow,s.options.fade===!0&&(o>0&&o--,r<=s.slideCount&&r++)),n=s.$slider.find(".slick-slide").slice(o,r),e(n),s.slideCount<=s.options.slidesToShow?(i=s.$slider.find(".slick-slide"),e(i)):s.currentSlide>=s.slideCount-s.options.slidesToShow?(i=s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow),e(i)):0===s.currentSlide&&(i=s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow),e(i))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.postSlide=function(t){var e=this;null!==e.options.onAfterChange&&e.options.onAfterChange.call(this,e,t),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay()},e.prototype.progressiveLazyLoad=function(){var e,n,i=this;e=t("img[data-lazy]").length,e>0&&(n=t("img[data-lazy]",i.$slider).first(),n.attr("src",n.attr("data-lazy")).removeClass("slick-loading").load(function(){n.removeAttr("data-lazy"),i.progressiveLazyLoad()}).error(function(){n.removeAttr("data-lazy"),i.progressiveLazyLoad()}))},e.prototype.refresh=function(){var e=this,n=e.currentSlide;e.destroy(),t.extend(e,e.initials),e.currentSlide=n,e.init()},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.options.focusOnSelect===!0&&t(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},e.prototype.removeSlide=function(t,e){var n=this;return"boolean"==typeof t?(e=t,t=e===!0?0:n.slideCount-1):t=e===!0?--t:t,n.slideCount<1||0>t||t>n.slideCount-1?!1:(n.unload(),n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},e.prototype.setCSS=function(t){var e,n,i=this,o={};i.options.rtl===!0&&(t=-t),e="left"==i.positionProp?t+"px":"0px",n="top"==i.positionProp?t+"px":"0px",o[i.positionProp]=t,i.transformsEnabled===!1?i.$slideTrack.css(o):(o={},i.cssTransitions===!1?(o[i.animType]="translate("+e+", "+n+")",i.$slideTrack.css(o)):(o[i.animType]="translate3d("+e+", "+n+", 0px)",i.$slideTrack.css(o)))},e.prototype.setDimensions=function(){var t=this;t.options.vertical===!1?t.options.centerMode===!0&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),t.options.centerMode===!0&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),t.options.vertical===!1?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(i,o){e=n.slideWidth*i*-1,t(o).css({position:"relative",left:e,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&t.options.adaptiveHeight===!0&&t.options.vertical===!1){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),t.options.fade===!1?t.setCSS(t.getLeft(t.currentSlide)):t.setFade()},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=t.options.vertical===!0?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),(void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.msTransition)&&t.options.useCSS===!0&&(t.cssTransitions=!0),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&t.animType!==!1&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=null!==t.animType&&t.animType!==!1},e.prototype.setSlideClasses=function(t){var e,n,i,o,r=this;r.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),n=r.$slider.find(".slick-slide"),r.options.centerMode===!0?(e=Math.floor(r.options.slidesToShow/2),r.options.infinite===!0&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e,t+e+1).addClass("slick-active"):(i=r.options.slidesToShow+t,n.slice(i-e+1,i+e+2).addClass("slick-active")),0===t?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")):t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active"):n.length<=r.options.slidesToShow?n.addClass("slick-active"):(o=r.slideCount%r.options.slidesToShow,i=r.options.infinite===!0?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active")),"ondemand"===r.options.lazyLoad&&r.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,i,o=this;if((o.options.fade===!0||o.options.vertical===!0)&&(o.options.centerMode=!1),o.options.infinite===!0&&o.options.fade===!1&&(n=null,o.slideCount>o.options.slidesToShow)){for(i=o.options.centerMode===!0?o.options.slidesToShow+1:o.options.slidesToShow,e=o.slideCount;e>o.slideCount-i;e-=1)n=e-1,t(o.$slides[n]).clone(!0).attr("id","").attr("index",n-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(e=0;i>e;e+=1)n=e,t(o.$slides[n]).clone(!0).attr("id","").attr("index",n+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.selectHandler=function(e){var n=this,i=null!=n.options.asNavFor?t(n.options.asNavFor).getSlick():null,o=parseInt(t(e.target).parents(".slick-slide").attr("index"));if(o||(o=0),!(n.slideCount<=n.options.slidesToShow)&&(n.slideHandler(o),null!=i)){if(i.slideCount<=i.options.slidesToShow)return;i.slideHandler(o)}},e.prototype.slideHandler=function(t){var e,n,i,o,r=null,s=this;return s.animating===!0&&s.options.waitForAnimate===!0?!1:(e=t,r=s.getLeft(e),i=s.getLeft(s.currentSlide),o=s.slideCount%s.options.slidesToScroll!==0?s.options.slidesToScroll:0,s.currentLeft=null===s.swipeLeft?i:s.swipeLeft,s.options.infinite===!1&&s.options.centerMode===!1&&(0>t||t>s.slideCount-s.options.slidesToShow+o)?(s.options.fade===!1&&(e=s.currentSlide,s.animateSlide(i,function(){s.postSlide(e)})),!1):s.options.infinite===!1&&s.options.centerMode===!0&&(0>t||t>s.slideCount-s.options.slidesToScroll)?(s.options.fade===!1&&(e=s.currentSlide,s.animateSlide(i,function(){s.postSlide(e)})),!1):(s.options.autoplay===!0&&clearInterval(s.autoPlayTimer),n=0>e?s.slideCount%s.options.slidesToScroll!==0?s.slideCount-s.slideCount%s.options.slidesToScroll:s.slideCount-s.options.slidesToScroll:e>s.slideCount-1?0:e,s.animating=!0,null!==s.options.onBeforeChange&&t!==s.currentSlide&&s.options.onBeforeChange.call(this,s,s.currentSlide,n),s.currentSlide=n,s.setSlideClasses(s.currentSlide),s.updateDots(),s.updateArrows(),s.options.fade===!0?(s.fadeSlide(n,function(){s.postSlide(n)}),!1):void s.animateSlide(r,function(){s.postSlide(n)})))},e.prototype.startLoad=function(){var t=this;t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,i,o=this;return t=o.touchObject.startX-o.touchObject.curX,e=o.touchObject.startY-o.touchObject.curY,n=Math.atan2(e,t),i=Math.round(180*n/Math.PI),0>i&&(i=360-Math.abs(i)),45>=i&&i>=0?"left":360>=i&&i>=315?"left":i>=135&&225>=i?"right":"vertical"},e.prototype.swipeEnd=function(e){var n=this,i=null!=n.options.asNavFor?t(n.options.asNavFor).getSlick():null;if(n.dragging=!1,void 0===n.touchObject.curX)return!1;if(n.touchObject.swipeLength>=n.touchObject.minSwipe)switch(t(e.target).on("click.slick",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.slick")}),n.swipeDirection()){case"left":n.slideHandler(n.currentSlide+n.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide+i.options.slidesToScroll),n.touchObject={};break;case"right":n.slideHandler(n.currentSlide-n.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide-i.options.slidesToScroll),n.touchObject={}}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),null!=i&&i.slideHandler(i.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,i,o,r=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,e=r.getLeft(r.currentSlide),!r.dragging||o&&1!==o.length?!1:(r.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,r.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,r.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(r.touchObject.curX-r.touchObject.startX,2))),n=r.swipeDirection(),"vertical"!==n?(void 0!==t.originalEvent&&r.touchObject.swipeLength>4&&t.preventDefault(),i=r.touchObject.curX>r.touchObject.startX?1:-1,r.swipeLeft=r.options.vertical===!1?e+r.touchObject.swipeLength*i:e+r.touchObject.swipeLength*(r.$list.height()/r.listWidth)*i,r.options.fade===!0||r.options.touchMove===!1?!1:r.animating===!0?(r.swipeLeft=null,!1):void r.setCSS(r.swipeLeft)):void 0)},e.prototype.swipeStart=function(t){var e,n=this;return 1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,void(n.dragging=!0))},e.prototype.unfilterSlides=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},e.prototype.updateArrows=function(){var t=this;t.options.arrows===!0&&t.options.infinite!==!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.removeClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled"),t.$nextArrow.removeClass("slick-disabled")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&(t.$nextArrow.addClass("slick-disabled"),t.$prevArrow.removeClass("slick-disabled")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},t.fn.slick=function(t){var n=this;return n.each(function(n,i){i.slick=new e(i,t)})},t.fn.slickAdd=function(t,e,n){var i=this;return i.each(function(i,o){o.slick.addSlide(t,e,n)})},t.fn.slickCurrentSlide=function(){var t=this;return t.get(0).slick.getCurrent()},t.fn.slickFilter=function(t){var e=this;return e.each(function(e,n){n.slick.filterSlides(t)})},t.fn.slickGoTo=function(t){var e=this;return e.each(function(e,n){n.slick.changeSlide({data:{message:"index",index:t}})})},t.fn.slickNext=function(){var t=this;return t.each(function(t,e){e.slick.changeSlide({data:{message:"next"}})})},t.fn.slickPause=function(){var t=this;return t.each(function(t,e){e.slick.autoPlayClear(),e.slick.paused=!0})},t.fn.slickPlay=function(){var t=this;return t.each(function(t,e){e.slick.paused=!1,e.slick.autoPlay()})},t.fn.slickPrev=function(){var t=this;return t.each(function(t,e){e.slick.changeSlide({data:{message:"previous"}})})},t.fn.slickRemove=function(t,e){var n=this;return n.each(function(n,i){i.slick.removeSlide(t,e)})},t.fn.slickGetOption=function(t){var e=this;return e.get(0).slick.options[t]},t.fn.slickSetOption=function(t,e,n){var i=this;return i.each(function(i,o){o.slick.options[t]=e,n===!0&&(o.slick.unload(),o.slick.reinit())})},t.fn.slickUnfilter=function(){var t=this;return t.each(function(t,e){e.slick.unfilterSlides()})},t.fn.unslick=function(){var t=this;return t.each(function(t,e){e.slick&&e.slick.destroy()})},t.fn.getSlick=function(){var t=null,e=this;return e.each(function(e,n){t=n.slick}),t}}),wt={opts:{elements:"p,li,dd",chars:14,method:"wordSpacing",dir:"pos",event:"orientationchange"},to:new Array,fix:function(t){"complete"===document.readyState&&wt.init(t),wt.bind("load",function(){wt.init(t)})},init:function(t){var e=t.method;switch(e){case"padding-right":case"nbsp":case"padding-left":case"word-spacing":case"letter-spacing":case void 0:"neg"==t.dir&&e&&e.match("padding")?console.log("Invalid method. You cannot use neg with padding."):wt.hunter(t);break;default:console.log("Invalid method. Please use either padding-right, padding-left, word-spacing, or letter-spacing.")}},hunter:function(t){var e=new Object;if(t)for(i in wt.opts)e[i]=t[i]?"method"==i&&t[i].match("-")?wt.fixmethod(t[i]):t[i]:wt.opts[i];else e=wt.opts;if(document.querySelectorAll){for(var n=document.querySelectorAll(e.elements),i=0;i<n.length;){var o=n[i];if(o.offsetHeight>wt.getstyle(o,"line-height",!0)){for(var r=o.childNodes,s=r.length-1,a=!1;s>=0;){var l=wt.text(r[s]);if(void 0!=l&&l.length>e.chars){a=r[s];break}s--}o.style[e.method]="0";var u=wt.text(a);a&&wt.tamer(a,o,u,0,e)}i++}wt.bind(e.event,function(){wt.onevent(e)})}},text:function(t){return t.innerText||t.textContent},settext:function(t,e){t.innerText?t.innerText=e:t.textContent=e},tamer:function(t,e,n,i,o){var r=e.offsetHeight;if(wt.settext(t,n.slice(0,-1*o.chars)),e.offsetHeight<r)if("nbsp"==o.method)wt.settext(t,wt.text(t)+n.slice(-1*o.chars).replace(/\s/g,"\xa0"));else{var s=o.method.match("padding")?i/10:i/100;"neg"==o.dir&&(s=-1*s),e.style[o.method]=s+"em",wt.settext(t,n),wt.tamer(t,e,n,i+1,o)}else wt.settext(t,n)},onevent:function(t){var e="'"+t.elements.replace(/[^a-zA-Z0-9\-\.]/g,"")+"'";clearTimeout(wt.to[e]),wt.to[e]=setTimeout(function(){wt.hunter(t)},250)},bind:function(t,e){window.attachEvent?window.attachEvent("on"+t,e):window.addEventListener(t,e,!0)},fixmethod:function(t){return t.replace(/-([a-zA-Z])/,function(t){return t.replace("-","").toUpperCase()})},getstyle:function(t,e,n){var i;return t.currentStyle?i=t.currentStyle[e.replace(/-([A-z])/gi,function(t,e){return e.toUpperCase()})]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),n?parseFloat(i):i}},function(){function t(){Object.freeze||(Object.freeze=function(t){return t}),function(t){for(var e,n,i={},o=function(){},r="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=r.pop();)t[e]=t[e]||i;for(;n=s.pop();)t[n]=t[n]||o}(window.console||{}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],o=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in e){var s=e[r];t.call(o,s,r,e)&&i.push(s)}return i}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,o;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),i=new Array(s),o=0;s>o;){var a,l;o in r&&(a=r[o],l=t.call(n,a,o,r),i[o]=l),o++}return i}),document.querySelectorAll||(document.querySelectorAll=function(t){var e,n=document.createElement("style"),i=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=t+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)e=document._qsa.shift(),e.style.removeAttribute("x-qsa"),i.push(e);return document._qsa=null,i}),document.querySelector||(document.querySelector=function(t){var e=document.querySelectorAll(t);return e.length?e[0]:null}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,s,a=[];for(r in o)t.call(o,r)&&a.push(r);if(e)for(s=0;i>s;s++)t.call(o,n[s])&&a.push(n[s]);return a}}()),!("getComputedStyle"in window)&&(window.getComputedStyle=function(){function t(e,n,i,o){var r,s=n[i],a=parseFloat(s),l=s.split(/\d/)[0];return o=null!=o?o:/%|em/.test(l)&&e.parentElement?t(e.parentElement,e.parentElement.currentStyle,"fontSize",null):16,r="fontSize"==i?o:/width/i.test(i)?e.clientWidth:e.clientHeight,"em"==l?a*o:"in"==l?96*a:"pt"==l?96*a/72:"%"==l?a/100*r:a}function e(t,e){var n="border"==e?"Width":"",i=e+"Top"+n,o=e+"Right"+n,r=e+"Bottom"+n,s=e+"Left"+n;t[e]=(t[i]==t[o]==t[r]==t[s]?[t[i]]:t[i]==t[r]&&t[s]==t[o]?[t[i],t[o]]:t[s]==t[o]?[t[i],t[o],t[r]]:[t[i],t[o],t[r],t[s]]).join(" ")}function n(n){var i=n.currentStyle,o=this,r=t(n,i,"fontSize",null);for(property in i)/width|height|margin.|padding.|border.+W/.test(property)&&"auto"!==o[property]?o[property]=t(n,i,property,r)+"px":"styleFloat"===property?o["float"]=i[property]:o[property]=i[property];return e(o,"margin"),e(o,"padding"),e(o,"border"),o.fontSize=r+"px",o}function i(t){return new n(t)}return n.prototype={constructor:n,getPropertyPriority:function(){},getPropertyValue:function(t){return this[t]||""},item:function(){},removeProperty:function(){},setProperty:function(){},getPropertyCSSValue:function(){}},i}(window)),function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(e,t(i,this),t(o,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void u(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(o){return void t.reject(o)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void a(t(n,e),t(i,this),t(o,this))}this._state=!0,this._value=e,r.call(this)}catch(s){o.call(this,s)}}function o(t){this._state=!1,this._value=t,r.call(this)}function r(){for(var t=0,e=this._deferreds.length;e>t;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function s(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function a(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(o){if(i)return;i=!0,n(o)}}var l;l="object"==typeof window&&window?window:global,"undefined"!=typeof module&&module.exports?module.exports=l.Promise?l.Promise:e:l.Promise||(l.Promise=e);var u=l.setImmediate||function(t){setTimeout(t,1)},c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var o=this;return new e(function(e,r){n.call(o,new s(t,i,e,r))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(r,t)},n)}t[r]=s,0===--o&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,o=t.length;o>i;i++)t[i].then(e,n)})}}()}function e(){return a}"undefined"!=typeof window&&t();var n=this,i={version:"1.1.3"};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=i),exports.imgix=i):n.imgix=i;var o="imgix-usable";i.helpers={debouncer:function(t,e){var n;return function(){var i=this,o=arguments,r=function(){n=null,t.apply(i,o)};window.clearTimeout(n),n=window.setTimeout(r,e)}},throttler:function(t,e){var n;return function(){var i,o=this,r=arguments;n||(i=function(){n=null,t.apply(o,r)},n=window.setTimeout(i,e))}},urlParser:function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}return function(e,n){var i=n||window.location.toString();if(!e)return i;e=e.toString(),"//"===i.substring(0,2)?i="http:"+i:1===i.split("://").length&&(i="http://"+i),n=i.split("/");var o={auth:""},r=n[2].split("@");1===r.length?r=r[0].split(":"):(o.auth=r[0],r=r[1].split(":")),o.protocol=n[0],o.hostname=r[0],o.port=r[1]||("https"===o.protocol.split(":")[0].toLowerCase()?"443":"80"),o.pathname=(n.length>3?"/":"")+n.slice(3,n.length).join("/").split("?")[0].split("#")[0];var s=o.pathname;"/"===s.charAt(s.length-1)&&(s=s.substring(0,s.length-1));var a=o.hostname,l=a.split("."),u=s.split("/");if("hostname"===e)return a;if("domain"===e)return/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(a)?a:l.slice(-2).join(".");if("sub"===e)return l.slice(0,l.length-2).join(".");if("port"===e)return o.port;if("protocol"===e)return o.protocol.split(":")[0];if("auth"===e)return o.auth;if("user"===e)return o.auth.split(":")[0];if("pass"===e)return o.auth.split(":")[1]||"";if("path"===e)return o.pathname;if("."===e.charAt(0)){if(e=e.substring(1),t(e))return e=parseInt(e,10),l[0>e?l.length+e:e-1]||""}else{if(t(e))return e=parseInt(e,10),u[0>e?u.length+e:e]||"";if("file"===e)return u.slice(-1)[0];if("filename"===e)return u.slice(-1)[0].split(".")[0];if("fileext"===e)return u.slice(-1)[0].split(".")[1]||"";if("?"===e.charAt(0)||"#"===e.charAt(0)){var c=i,d=null;if("?"===e.charAt(0)?c=(c.split("?")[1]||"").split("#")[0]:"#"===e.charAt(0)&&(c=c.split("#")[1]||""),!e.charAt(1))return c;
e=e.substring(1),c=c.split("&");for(var h=0,p=c.length;p>h;h++)if(d=c[h].split("="),d[0]===e)return d[1]||"";return null}}return""}}(),mergeObject:function(){for(var t,e={},n=0,i=arguments.length;i>n;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e},pixelRound:function(t,e){return Math.ceil(t/e)*e},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getZoom:function(){var t,e="http://www.w3.org/2000/svg",n=1;return document.createElementNS&&(t=document.createElementNS(e,"svg"),t.setAttribute("xmlns",e),t.setAttribute("version","1.1"),document.body.appendChild(t),n=t.currentScale||1,document.body.removeChild(t)),n},getDPR:function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;if(t%1!==0){var e=t.toString();e=e.split(".")[1],t=t.toFixed(e.length>1&&"0"!==e.slice(1,2)?2:1)}return t},getWindowWidth:function(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)||1024},getWindowHeight:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)||768},getImgSrc:function(t){return t.getAttribute("data-src")||t.getAttribute("src")},calculateElementSize:function(t){var e={width:t.offsetWidth,height:t.offsetHeight};if(null===t.parentNode||t===document.body)return e.width=this.getWindowWidth(),e.height=this.getWindowHeight(),e;if(0!==e.width||0!==e.height)return t.alt&&!t.fluid?(t.fluid=!0,this.calculateElementSize(t.parentNode)):e;var n,i,o={},r={position:"absolute",visibility:"hidden",display:"block"};for(i in r)r.hasOwnProperty(i)&&(o[i]=t.style[i],t.style[i]=r[i]);n={width:t.offsetWidth,height:t.offsetHeight};for(i in r)r.hasOwnProperty(i)&&(t.style[i]=o[i]);return 0===n.width||0===n.height?this.calculateElementSize(t.parentNode):n},isReallyObject:function(t){return t&&"object"==typeof t&&"[object Object]"===t.toString()},isFluidSet:function(t){return t&&"object"==typeof t&&"[object FluidSet]"===t.toString()},extractInt:function(t){return void 0===t?0:"number"==typeof t?t:parseInt(t.replace(/\D/g,""),10)||0},camelize:function(t){return t.replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""})},getElementCssProperty:function(t,e){return window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):t&&t.style&&e?t.style[this.camelize(e)]:""},matchesSelector:function(t,e){var n=(t.parentNode||document).querySelectorAll(e);return Array.prototype.slice.call(n).indexOf(t)>-1}},i.getElementByXPathClassName=function(t){return document.querySelector("."+i.getXPathClass(t))},i.getElementImageByXPathClassName=function(t){return i.getElementImage(i.getElementByXPathClassName(t))},i.isImageElement=function(t){return t&&t.tagName&&"img"===t.tagName.toLowerCase()},i.setElementImageAfterLoad=function(t,e,n){var o=new Image;o.onload=function(){i.setElementImage(t,e),"function"==typeof n&&n(t,e)},o.src=e},i.setElementImage=function(t,e){if(!t)return!1;if(i.isImageElement(t))return t.src!==e&&(t.src=e),!0;var n=i.getBackgroundImage(t);return n!==e?n?(t.style.cssText=t.style.cssText.replace(n,e),!0):(document.addEventListener?t.style.backgroundImage="url("+e+")":t.style.cssText="background-image:url("+e+")",!0):!1},i.getEmptyImage=function(){return i.versionifyUrl("https://assets.imgix.net/pixel.gif")},i.getElementImage=function(t){return i.isImageElement(t)?t.src:i.getBackgroundImage(t)},i.getRawBackgroundImage=function(t){return t.style.cssText.match(/url\(([^\)]+)/)},i.getBackgroundImage=function(t){var e=i.getRawBackgroundImage(t);return e&&2===e.length?e[1]:""},i.getColorBrightness=function(t){if(!t)return 0;"#"===t.slice(0,1)&&(t=i.hexToRGB(t));var e=t.replace(/[^0-9,]+/g,"").split(","),n=parseInt(e[0],10),o=parseInt(e[1],10),r=parseInt(e[2],10);return Math.sqrt(n*n*.241+o*o*.691+r*r*.068)},i.applyAlphaToRGB=function(t,e){var n="rgba"!==t.slice(0,4),i=t.split(",");return i=i.map(function(t){return parseInt(t.replace(/\D/g,""),10)}),n?i.push(e):4===i.length&&(i[3]=e),"rgba("+i.join(", ")+")"},i.hexToRGB=function(t){function e(t){return(t+t).toString()}if(t)if("#"===t.slice(0,1))t=t.slice(1,t.length);else if("rgb"===t.slice(0,3))return t;var n=0,i=0,o=0;return 3===t.length?(n=parseInt(e(t.slice(0,1)),16),i=parseInt(e(t.slice(1,2)),16),o=parseInt(e(t.slice(2,3)),16)):6===t.length?(n=parseInt(t.slice(0,2),16),i=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16)):console.warn("invalid hex color:",t),"rgb("+n+", "+i+", "+o+")"},i.getElementsWithImages=function(){return i.markElementsWithImages(),document.querySelectorAll("."+o)},i.hasImage=function(t){var e=t.style.cssText?t.style.cssText.toLowerCase():t.style.cssText;return t&&(i.isImageElement(t)||-1!==e.indexOf("background-image"))},i.markElementsWithImages=function(){for(var t=document.getElementsByTagName("*"),e=0,n=t.length;n>e;e++)i.hasImage(t[e])&&i.setImgixClass(t[e])},i.hasClass=function(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1},i.setImgixClass=function(t){if(i.hasClass(t,o))return i.getImgixClass(t);var e=i.getXPathClass(i.getElementTreeXPath(t));return t.classList.add(e),t.classList.add(o),i.getImgixClass(t)},i.getImgixClass=function(t){return i.hasClass(t,o)?t.className.match(/imgix-el-[^\s]+/)[0]:void 0},i.getXPathClass=function(t){var e;return e=t?i.hashCode(t):(new Date).getTime().toString(36),"imgix-el-"+e},i.rgbToHex=function(t){var e=t.split(",");return e=e.map(function(t){return i.componentToHex(parseInt(t.replace(/\D/g,"")))}),e.join("")},i.componentToHex=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},i.getElementTreeXPath=function(t){for(var e=[];t&&t.nodeType===Node.ELEMENT_NODE;t=t.parentNode){for(var n=0,i=t.previousSibling;i;i=i.previousSibling)i.nodeType!==Node.DOCUMENT_TYPE_NODE&&i.nodeName===t.nodeName&&++n;var o=(t.prefix?t.prefix+":":"")+t.localName,r=n?"["+(n+1)+"]":"";e.splice(0,0,o+r)}return e.length?"/"+e.join("/"):null},i.getFontLookup=function(){return{"American Typewriter":"American Typewriter","American Typewriter Bold":"American Typewriter,bold","American Typewriter Condensed":"American Typewriter Condensed","American Typewriter Condensed Bold":"American Typewriter Condensed,bold","American Typewriter Condensed Light":"American Typewriter Condensed Light","American Typewriter Light":"American Typewriter Light","Andale Mono":"Andale Mono",Arial:"Arial","Arial Black":"Arial Black","Arial Bold":"Arial,bold","Arial Bold Italic":"Arial,bold,italic","Arial Italic":"Arial,italic",Baskerville:"Baskerville","Big Caslon":"Big Caslon","Brush Script MT":"Brush Script MT",Cochin:"Cochin",Copperplate:"Copperplate",Courier:"Courier","Courier Bold":"Courier,bold","Courier Oblique":"Courier Oblique",Didot:"Didot",Futura:"Futura","Futura Condensed":"Futura Condensed Medium","Futura Italic":"Futura Medium,italic",Georgia:"Georgia","Georgia Bold":"Georgia,bold","Georgia Bold Italic":"Georgia,bold,italic","Georgia Italic":"Georgia,italic","Gill Sans":"Gill Sans","Gill Sans Bold":"Gill Sans,bold","Gill Sans Bold Italic":"Gill Sans,bold,italic","Gill Sans Italic":"Gill Sans,italic","Gill Sans Light":"Gill Sans Light","Gill Sans Light Italic":"Gill Sans Light,italic",Helvetica:"Helvetica","Helvetica Bold":"Helvetica,bold","Helvetica Light":"Helvetica Light","Helvetica Light Oblique":"Helvetica Light Oblique","Helvetica Neue":"Helvetica Neue","Helvetica Neue Bold":"Helvetica Neue,bold","Helvetica Neue Bold Italic":"Helvetica Neue,bold,italic","Helvetica Neue Condensed Black":"Helvetica Neue Condensed Black","Helvetica Neue Condensed Bold":"Helvetica Neue Condensed,bold","Helvetica Neue Light":"Helvetica Neue Light","Helvetica Neue Light Italic":"Helvetica Neue Light,italic","Helvetica Neue Medium":"Helvetica Neue Medium","Helvetica Neue UltraLight":"Helvetica Neue UltraLight","Helvetica Neue UltraLight Italic":"Helvetica Neue UltraLight,italic","Helvetica Oblique":"Helvetica Oblique",Herculanum:"Herculanum",Impact:"Impact","Marker Felt Thin":"Marker Felt Thin","Marker Felt Wide":"Marker Felt Wide",Optima:"Optima","Optima Bold":"Optima,bold","Optima Bold Italic":"Optima,bold,italic","Optima ExtraBlack":"Optima ExtraBlack","Optima Italic":"Optima,italic",Papyrus:"Papyrus","Papyrus Condensed":"Papyrus Condensed",Times:"Times","Times Bold":"Times,bold","Times Bold Italic":"Times,bold,italic","Times Italic":"Times,italic","Times New Roman":"Times New Roman","Times New Roman Bold":"Times New Roman,bold","Times New Roman Bold Italic":"Times New Roman,bold,italic","Times New Roman Italic":"Times New Roman,italic","Trebuchet MS":"Trebuchet MS","Trebuchet MS Bold":"Trebuchet MS,bold","Trebuchet MS Bold Italic":"Trebuchet MS,bold,italic","Trebuchet MS Italic":"Trebuchet MS,italic",Verdana:"Verdana","Verdana Bold":"Verdana,bold","Verdana Bold Italic":"Verdana,bold,italic","Verdana Italic":"Verdana,italic",Zapfino:"Zapfino"}},i.getFonts=function(){return Object.keys(i.getFontLookup())},i.searchFonts=function(t){return t=t.toLowerCase(),i.getFonts().filter(function(e){return-1!==e.toLowerCase().indexOf(t)})},i.isFontAvailable=function(t){return i.isDef(i.getFontLookup()[t])},i.getAllParams=function(){return["bri","con","exp","gam","high","hue","invert","int","sat","shad","sharp","usm","usmrad","vib","auto","bg","ba","balph","bc","bf","bh","blend","bm","bp","bs","bw","border","pad","dl","fm","q","mask","nr","nrs","class","colors","prefix","palette","page","dpr","flip","or","rot","crop","fit","h","rect","w","blur","htn","mono","px","sepia","txt","txtalign","txtclip","txtclr","txtfit","txtfont","txtline","txtlineclr","txtpad","txtshad","txtsize","trim","trimcolor","trimmd","mark","markalign","markalpha","markfit","markh","markpad","markscale","markw"]},i.getParamAliases=function(){return{t:"txt",tf:"txtfont",tsz:"txtsize",tl:"txtline",tsh:"txtshad",tp:"txtpad",txtlinecolor:"txtlineclr",ta:"txtalign",intensity:"int",monochrome:"mono",f:"fit",orient:"or",m:"watermark",mf:"markfit",ms:"markscale",ma:"markalign",mp:"markpad"}},i.getDefaultParamValues=function(){return{bri:0,con:0,exp:0,gam:0,high:0,hue:0,sat:0,shad:0,sharp:0,usm:0,usmrad:2.5,vib:0,ba:"middle,center",balph:100,bf:"clip",bp:0,pad:0,q:75,nr:20,nrs:20,colors:6,prefix:"image",palette:"",page:1,dpr:1,rot:0,fit:"clip",blur:0,htn:0,px:0,sepia:0,txtalign:"bottom,right",txtclip:"end",txtclr:"000",txtfont:"Helvetica",txtline:0,txtlineclr:"FFF",txtpad:10,txtsize:12,trimmd:11,markalign:"bottom,right",markalpha:100,markfit:"clip",markpad:10}},i.getDefaultParamValue=function(t){return i.getDefaultParamValues()[t]},i.getDefaultParams=function(){return Object.keys(i.getDefaultParamValues())},i.makeCssClass=function(t){return"tmp_"+i.hashCode(t)},i.injectStyleSheet=function(t){var e=document.createElement("link");e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)},i.findInjectedStyleSheet=function(t){if(document.styleSheets)for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].href===t)return!0;return!1},i.getElementImageSize=function(t){var e=0,n=0;return i.isImageElement(t)?(e=t.naturalWidth,n=t.naturalHeight):(e=i.helpers.extractInt(i.getCssProperty(t,"width")),n=i.helpers.extractInt(i.getCssProperty(t,"height"))),{width:e,height:n}},i.getCssPropertyById=function(t,e){var n=document.getElementById(t);return i.helpers.getElementCssProperty(n,e)},i.getCssProperty=function(t,e){return i.helpers.getElementCssProperty(t,e)},i.getCssPropertyBySelector=function(t,e){var n=document.querySelector(t);return i.helpers.getElementCssProperty(n,e)},i.instanceOfImgixURL=function(t){return t&&"[object imgixURL]"===t.toString()},i.setGradientOnElement=function(t,e,n){var o=[];if("undefined"==typeof n)o=["transparent","transparent"];else{var r=i.hexToRGB(n);"rgba"===r.slice(0,4)?(o.push(r),o.push(i.applyAlphaToRGB(r,0))):(o.push(i.applyAlphaToRGB(r,.5)),o.push(i.applyAlphaToRGB(r,0)))}for(var s=["-ms-linear-gradient(top, "+o[0]+" 0%, "+o[1]+" 100%),-ms-linear-gradient(bottom left, "+e[2]+" 0%,"+e[4]+" 25%, "+e[6]+" 50%, "+e[8]+" 75%,"+e[10]+" 100%)","-webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, "+o[1]+"), color-stop(100%, "+o[0]+")),-webkit-gradient(linear, 0% 100%, 100% 0%, color-stop(0%, "+e[2]+"), color-stop(25%, "+e[4]+"), color-stop(50%, "+e[6]+"), color-stop(75%, "+e[7]+"), color-stop(100%, "+e[10]+"))","-webkit-linear-gradient(top, "+o[0]+", "+o[1]+" 100%),-webkit-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","-moz-linear-gradient(top, "+o[0]+", "+o[1]+" ),-moz-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","-o-linear-gradient(top, "+o[0]+","+o[1]+"),-o-linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")","linear-gradient(top, "+o[0]+","+o[1]+"),linear-gradient(bottom left, "+e[2]+", "+e[4]+", "+e[6]+","+e[8]+")"],a=0;a<s.length;a++)t.style.backgroundImage=s[a]},i.URL=function(t,e){this._autoUpdateSel=null,this._autoUpdateCallback=null,t&&"//"===t.slice(0,2)&&window&&window.location&&(t=window.location.protocol+t),this.setUrl(t),"object"==typeof e&&this.setParams(e),this.paramAliases={}},i.URL.prototype.attachGradientTo=function(t,e,n){this.getColors(16,function(o){if(o&&o.length<9)return console.warn("not enough colors to create a gradient"),void(n&&"function"==typeof n&&n(!1));if("string"==typeof t){var r=document.querySelectorAll(t);if(r&&r.length>0)for(var s=0;s<r.length;s++)i.setGradientOnElement(r[s],o,e)}else i.setGradientOnElement(t,o,e);n&&"function"==typeof n&&n(!0)})},i.URL.prototype.attachImageTo=function(t,e){if("string"==typeof t){var n=document.querySelectorAll(t);if(n&&n.length>0)for(var o=0;o<n.length;o++)i.setElementImageAfterLoad(n[o],this.getUrl(),e)}else i.setElementImageAfterLoad(t,this.getUrl(),e)},i.createParamString=function(){return new i.URL("")},i.updateVersion={};var r={};i.URL.prototype.getColors=function(t,e){var n=new i.URL(this.getUrl()),o=i.makeCssClass(this.getUrl());if("function"==typeof t)if("number"==typeof e){var s=e;e=t,t=s}else e=t,t=10;n.setPaletteColorNumber(t),n.setPalette("css"),n.setPaletteClass(o);var a=n.getUrl();i.injectStyleSheet(a);var l=function(){if(i.findInjectedStyleSheet(a)){var n=null;setTimeout(function(){for(var s=[],l=100,u=1;t>=u;u++)!function(t){var e=document.createElement("span");e.id=o+"-"+t,e.className=o+"-fg-"+t,document.body.appendChild(e),s.push(new Promise(function(o){var r,s=0;r=function(){var a=i.getCssPropertyById(e.id,"color");a!==n?(document.body.removeChild(e),o({num:t,color:a}),n=a):++s<l?setTimeout(r,50):(document.body.removeChild(e),o({num:t,color:"rgb(255, 255, 255)"}))},setTimeout(r,300)}))}(u);Promise.all(s).then(function(t){var n=[];t=t.sort(function(t,e){return t.num-e.num});for(var o=0;o<t.length;o++)n.push(i.hexToRGB(t[o].color));n&&n.length>1&&i.getColorBrightness(n[n.length-1])<i.getColorBrightness(n[0])&&n.reverse(),r[a]=n,e&&e(n)})},10)}else setTimeout(l,100)};r.hasOwnProperty(a)?e&&e(r[a]):l()},i.URL.prototype._handleAutoUpdate=function(){function t(t){return a===o._autoUpdateSel&&t===i.updateVersion[a]}function e(e,n){n in l||(l[n]=[],function(){var e=document.createElement("img"),u=i.updateVersion[a],c=(new Date).getTime();e.src=n,e.onload=e.onerror=function(){if(t(u))for(var e=0;e<l[n].length;e++)if(i.setElementImage(l[n][e],n),s++,"function"==typeof o._autoUpdateCallback){var a={element:l[n][e],isComplete:s===r,percentComplete:s/r*100,totalComplete:s,loadTime:(new Date).getTime()-c,total:r};o._autoUpdateCallback(a)}}}()),l[n].push(e)}function n(t){var n=i.getElementImage(t),r=n;n&&-1!==n.indexOf("?")&&(r=n.split("?")[0]),o.getBaseUrl()?e(t,o.getUrl()):r&&o.getQueryString()?e(t,r+"?"+o.getQueryString()):s++}var o=this,r=0,s=0,a=this._autoUpdateSel,l={};if(i.isDef(i.updateVersion[a])?i.updateVersion[a]++:i.updateVersion[a]=1,null!==this._autoUpdateSel){var u=document.querySelectorAll(this._autoUpdateSel);if(r=u.length,u&&1===r)n(u[0]);else for(var c=0;r>c;c++)n(u[c])}},i.URL.prototype.autoUpdateImg=function(t,e){this._autoUpdateSel=t,this._autoUpdateCallback=e,this._handleAutoUpdate()},i.URL.prototype.setUrl=function(t){t&&"string"==typeof t&&0!==t.length||(t=i.getEmptyImage()),this.urlParts=i.parseUrl(t)},i.URL.prototype.setURL=function(t){return this.setUrl(t)},i.URL.prototype.getURL=function(){return this.getUrl()},i.URL.prototype.toString=function(){return"[object imgixURL]"},i.URL.prototype.getUrl=function(){var t=i.buildUrl(this.urlParts);return t&&0!==t.length?t:i.getEmptyImage()},i.URL.prototype.removeParam=function(t){this.urlParts.paramValues.hasOwnProperty(t)&&(delete this.urlParts.paramValues[t],this.urlParts.params=Object.keys(this.urlParts.paramValues))},i.URL.prototype.clearThenSetParams=function(t){this.clearParams(!1),this.setParams(t)},i.URL.prototype.clearParams=function(t){t=i.isDef(t)?t:!0;for(var e in this.urlParts.paramValues)this.urlParts.paramValues.hasOwnProperty(e)&&this.removeParam(e);t&&this._handleAutoUpdate()},i.URL.prototype.setParams=function(t,e){if(i.instanceOfImgixURL(t))return void console.warn("setParams warning: dictionary of imgix params expectd. imgix URL instance passed instead");for(var n in t)t.hasOwnProperty(n)&&this.setParam(n,t[n],e,!0);this._handleAutoUpdate()},i.URL.prototype.setParam=function(t,e,n,o){if(t=t.toLowerCase(),n=i.isDef(n)?n:!0,o=i.isDef(o)?o:!1,("col"===t||"colorize"===t||"blend"===t||"mono"===t||"monochrome"===t)&&"rgb"===e.slice(0,3)&&(e=i.rgbToHex(e)),-1===i.getAllParams().indexOf(t))return console.warn("'"+t+"' is an invalid imgix param"),this;if(!n&&this.urlParts.paramValues[t])return this;if("txtfont"===t&&i.isFontAvailable(e)){var r=i.getFontLookup()[e];r&&(e=r)}return i.getDefaultParamValue(t)!==e&&i.isDef(e)&&null!==e&&0!==e.length?(-1===this.urlParts.params.indexOf(t)&&this.urlParts.params.push(t),decodeURIComponent(e)===e&&(e=encodeURIComponent(e)),this.urlParts.paramValues[t]=String(e),o||this._handleAutoUpdate(),this):(this.removeParam(t),this)},i.URL.prototype.getParam=function(t){if("mark"===t||"mask"===t){var e=this.urlParts.paramValues[t];return decodeURIComponent(e)!==e?decodeURIComponent(e):e}return this.urlParts.paramValues[t]},i.URL.prototype.getParams=function(){return this.urlParts.paramValues?this.urlParts.paramValues:{}},i.URL.prototype.getBaseUrl=function(){var t=this.getUrl();return-1!==t.indexOf("?")&&(t=this.getUrl().split("?")[0]),t!==window.location.href?t:""},i.URL.prototype.getQueryString=function(){var t=this.getUrl();return-1!==t.indexOf("?")?this.getUrl().split("?")[1]:""},i.URL.theGetSetFuncs=Object.freeze({bri:"Brightness",con:"Contrast",exp:"Exposure",gam:"Gamma",high:"Highlight",hue:"Hue",invert:"Invert",sat:"Saturation",shad:"Shadow",sharp:"Sharpness",usm:"UnsharpMask",usmrad:"UnsharpMaskRadius",vib:"Vibrance",auto:"Auto",bg:"Background",ba:"BlendAlign",balph:"BlendAlpha",bc:"BlendCrop",bf:"BlendFit",bh:"BlendHeight",blend:"Blend",bm:"BlendMode",bp:"BlendPadding",bs:"BlendSize",bw:"BlendWidth",border:"Border",pad:"Pad",dl:"Download",fm:"Format",q:"Quality",mask:"Mask",nr:"NoiseReduction",nrs:"NoiseReductionSharpen",palette:"Palette","class":"PaletteClass",prefix:"PalettePrefix",colors:"PaletteColorNumber",page:"Page",dpr:"DPR",flip:"Flip",or:"Orient",rot:"Rotate",crop:"Crop",fit:"Fit",h:"Height",rect:"Rectangle",w:"Width",blur:"Blur",htn:"Halftone",mono:"Monochrome",px:"Pixelate",sepia:"Sepia",txt:"Text",txtalign:"TextAlign",txtclip:"TextClip",txtclr:"TextColor",txtfit:"TextFit",txtfont:"TextFont",txtline:"TextLine",txtlineclr:"TextLineColor",txtpad:"TextPad",txtsize:"TextSize",txtshad:"TextShadow",trim:"Trim",trimcolor:"TrimColor",trimmd:"TrimMeanDifference",mark:"Watermark",markalign:"WatermarkAlign",markalpha:"WatermarkAlpha",markfit:"WatermarkFit",markh:"WatermarkHeight",markpad:"WatermarkPadding",markscale:"WatermarkScale",markw:"WatermarkWidth"});for(var s in i.URL.theGetSetFuncs)i.URL.theGetSetFuncs.hasOwnProperty(s)&&!function(t){i.URL.prototype["set"+i.URL.theGetSetFuncs[t]]=function(e,n){return this.setParam(t,e,n)},i.URL.prototype["get"+i.URL.theGetSetFuncs[t]]=function(){return this.getParam(t)}}(s);i.parseUrl=function(t){for(var e=["protocol","hostname","port","path","?","#","hostname"],n=["protocol","hostname","port","pathname","search","hash","host"],o={},r=0;r<n.length;r++)o[n[r]]=i.helpers.urlParser(e[r],t);var s=o.search;if(o.paramValues={},o.params=[],o.baseUrl=t.split("?")[0],s&&s.length>0){"?"===s[0]&&(s=s.substr(1,s.length));for(var a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");u[0]&&u[0].length&&"s"!==u[0]&&(o.paramValues[u[0]]=2===u.length?u[1]:"",-1===o.params.indexOf(u[0])&&o.params.push(u[0]))}}return o},i.buildUrl=function(t){var e=t.protocol+"://"+t.host+t.pathname;if(i.versionifyUrl(t),t.params.length>0){t.params=t.params.map(function(t){return t.toLowerCase()}),t.params=t.params.filter(function(t,e,n){return n.indexOf(t)===e}),t.params=t.params.sort(function(t,e){return e>t?-1:t>e?1:0});for(var n=[],o=0;o<t.params.length;o++)t.paramValues[t.params[o]].length>0&&n.push(t.params[o]+"="+t.paramValues[t.params[o]]);-1!==e.indexOf("?")&&(e=e.split("?")[0]),e+="?"+n.join("&")}return e},i.versionifyUrl=function(t){return"string"==typeof t?i.versionifyStringUrl(t):i.versionifyParsedUrl(t)},i.versionifyStringUrl=function(t){var e,n,o="ixjsv";return e=t.split("?"),n=e[0]+"?"+o+"="+i.version,e[1]&&(n+="&"+e[1]),n},i.versionifyParsedUrl=function(t){var e="ixjsv";return t.paramValues[e]||t.params.push(e),t.paramValues[e]=i.version,t},i.isDef=function(t){return"undefined"!=typeof t},i.hashCode=function(t){var e,n,i=2166136261;for(e=0,n=t.length;n>e;e++)i^=t.charCodeAt(e),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return("0000000"+(i>>>0).toString(16)).substr(-8)};var a={fluidClass:"imgix-fluid",updateOnResize:!0,updateOnResizeDown:!1,updateOnPinchZoom:!1,highDPRAutoScaleQuality:!0,onChangeParamOverride:null,autoInsertCSSBestPractices:!1,fitImgTagToContainerWidth:!0,fitImgTagToContainerHeight:!1,ignoreDPR:!1,pixelStep:10,debounce:200,lazyLoad:!1,lazyLoadColor:null,lazyLoadOffsetVertical:20,lazyLoadOffsetHorizontal:20,throttle:200,maxHeight:5e3,maxWidth:5e3,onLoad:null};i.FluidSet=function(t){this.options=i.helpers.isReallyObject(t)?i.helpers.mergeObject(e(),t):i.helpers.mergeObject(e(),{}),this.lazyLoadOffsets={t:Math.max(this.options.lazyLoadOffsetVertical,0),b:Math.max(this.options.lazyLoadOffsetVertical,0),l:Math.max(this.options.lazyLoadOffsetHorizontal,0),r:Math.max(this.options.lazyLoadOffsetHorizontal,0)},this.namespace=Math.random().toString(36).substring(7),this.windowResizeEventBound=!1,this.windowScrollEventBound=!1,this.windowLastWidth=0,this.windowLastHeight=0},i.FluidSet.prototype.updateSrc=function(t,e){if(t.hasAttribute("src")&&""===t.getAttribute("src")&&t.setAttribute("src",i.getEmptyImage()),t.offsetWidth||t.offsetHeight||t.getClientRects().length){var n=this.getImgDetails(t,e||1),o=n.url,r=n.width,s=n.height;if(this.options.lazyLoad){var a=t.getBoundingClientRect(),l={left:0-this.lazyLoadOffsets.l,top:0-this.lazyLoadOffsets.t,bottom:(window.innerHeight||document.documentElement.clientHeight)+this.lazyLoadOffsets.b,right:(window.innerWidth||document.documentElement.clientWidth)+this.lazyLoadOffsets.r};if(a.top>l.bottom||a.left>l.right||a.top+s<l.top||a.left+r<l.left){if(!t.fluidLazyColored&&this.options.lazyLoadColor){t.fluidLazyColored=1;var u=this,c=typeof this.options.lazyLoadColor,d=new i.URL(i.helpers.getImgSrc(t));d.getColors(16,function(e){if(!e)return void console.warn("No colors found for",d.getURL(),"for element",t);var n=null;"boolean"===c?n=e[0]:"number"===c&&u.options.lazyLoadColor<e.length?n=e[u.options.lazyLoadColor]:"function"===c&&(n=u.options.lazyLoadColor(t,e)),null!==n&&(i.isImageElement(t)&&t.parentNode&&"body"!==t.parentNode.tagName.toLowerCase()?t.parentNode.style.backgroundColor=n:t.style.backgroundColor=n)})}return}}if(t.lastWidth=t.lastWidth||0,t.lastHeight=t.lastHeight||0,!(this.options.updateOnResizeDown===!1&&t.lastWidth>=r&&t.lastHeight>=s)){t.fluidUpdateCount||(t.fluidUpdateCount=0);var h=function(){};this.options.onLoad&&"function"==typeof this.options.onLoad&&(h=this.options.onLoad);var p=function(t,e){t.fluidUpdateCount=parseInt(t.fluidUpdateCount,10)+1,h(t,e)};i.setElementImageAfterLoad(t,o,p),t.lastWidth=r,t.lastHeight=s}}},i.FluidSet.prototype.getImgDetails=function(t,e){if(t){var n=i.helpers.getDPR(t),o=this.options.pixelStep,r=i.helpers.calculateElementSize(i.isImageElement(t)?t.parentNode:t),s=i.helpers.pixelRound(r.width*e,o),a=i.helpers.pixelRound(r.height*e,o);t.url||(t.url=new i.URL(i.helpers.getImgSrc(t))),t.url.setHeight(""),t.url.setWidth(""),s=Math.min(s,this.options.maxWidth),a=Math.min(a,this.options.maxHeight),1===n||this.options.ignoreDPR||t.url.setDPR(n),this.options.highDPRAutoScaleQuality&&n>1&&t.url.setQuality(Math.min(Math.max(parseInt(100/n,10),30),75)),this.options.fitImgTagToContainerHeight&&this.options.fitImgTagToContainerWidth&&t.url.setFit("crop"),"crop"===t.url.getFit()?(a>0&&(!i.isImageElement(t)||i.isImageElement(t)&&this.options.fitImgTagToContainerHeight)&&t.url.setHeight(a),s>0&&(!i.isImageElement(t)||i.isImageElement(t)&&this.options.fitImgTagToContainerWidth)&&t.url.setWidth(s)):s>=a?t.url.setWidth(s):t.url.setHeight(a),!i.isImageElement(t)&&this.options.autoInsertCSSBestPractices&&t.style&&(t.style.backgroundRepeat="no-repeat",t.style.backgroundSize="cover",t.style.backgroundPosition="50% 50%");var l={};null!==this.options.onChangeParamOverride&&"function"==typeof this.options.onChangeParamOverride&&(l=this.options.onChangeParamOverride(s,a,t.url.getParams(),t));for(var u in l)l.hasOwnProperty(u)&&t.url.setParam(u,l[u]);return{url:t.url.getURL(),width:s,height:a}}},i.FluidSet.prototype.toString=function(){return"[object FluidSet]"},i.FluidSet.prototype.reload=function(){i.fluid(this),this.windowLastWidth=i.helpers.getWindowWidth(),this.windowLastHeight=i.helpers.getWindowHeight()},i.FluidSet.prototype.attachGestureEvent=function(t){var e=this;t.addEventListener&&!t.listenerAttached&&(t.addEventListener("gestureend",function(t){e.updateSrc(this,t.scale)},!1),t.addEventListener("gesturechange",function(){e.updateSrc(this)},!1),t.listenerAttached=!0)};var l={},u={};i.FluidSet.prototype.attachScrollListener=function(){l[this.namespace]=i.helpers.throttler(function(){this.reload()}.bind(this),this.options.throttle),document.addEventListener?window.addEventListener("scroll",l[this.namespace],!1):window.attachEvent("onscroll",l[this.namespace]),this.windowScrollEventBound=!0},i.FluidSet.prototype.attachWindowResizer=function(){u[this.namespace]=i.helpers.debouncer(function(){(this.windowLastWidth!==i.helpers.getWindowWidth()||this.windowLastHeight!==i.helpers.getWindowHeight())&&this.reload()}.bind(this),this.options.debounce),window.addEventListener?window.addEventListener("resize",u[this.namespace],!1):window.attachEvent&&window.attachEvent("onresize",u[this.namespace]),this.windowResizeEventBound=!0},i.fluid=function(){var t,n;if(arguments.length>0&&1===arguments[0].nodeType?(n=arguments[0],t=arguments[1]):t=arguments[0],null!==t){var o,r;if(i.helpers.isReallyObject(t)){for(var s=Object.keys(t),a=Object.keys(e()),l=0;l<s.length;l++)-1===a.indexOf(s[l])&&console.warn("'"+s[l]+"' is not a valid imgix.fluid config option. See https://github.com/imgix/imgix.js/blob/master/docs/api.md#imgix.fluid for a list of valid options.");o=i.helpers.mergeObject(e(),t),r=new i.FluidSet(o),t=null}else i.helpers.isFluidSet(t)?(r=t,o=r.options):(o=i.helpers.mergeObject(e(),{}),r=new i.FluidSet(o));var u;if(t&&!i.helpers.isFluidSet(t))u=Array.isArray(t)?t:[t];else{var c=o.fluidClass.toString();c="."===c.slice(0,1)?c:"."+c,u=(n||document).querySelectorAll(c),n&&i.helpers.matchesSelector(n,c)&&(u=Array.prototype.slice.call(u),u.unshift(n))}for(var d=0;d<u.length;d++)null!==u[d]&&(o.updateOnPinchZoom&&r.attachGestureEvent(u[d]),r.updateSrc(u[d]));return o.lazyLoad&&!r.windowScrollEventBound&&r.attachScrollListener(),o.updateOnResize&&!r.windowResizeEventBound&&r.attachWindowResizer(),r}},"undefined"!=typeof window&&(i.onready=function(){function t(){var t;for(s=!0;t=i.shift();)t()}var e,n,i=[],o=document.documentElement.doScroll,r=o?/^loaded|^c/:/^loaded|c/,s=r.test(document.readyState);return document.addEventListener?(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(n=function(){/^c/.test(document.readyState)&&(document.detachEvent("onreadystatechange",n),t())},document.attachEvent("onreadystatechange",n)),e=o?function(t){window.self!=window.top?s?t():i.push(t):!function(){try{document.documentElement.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(t){s?t():i.push(t)}}()),"function"==typeof define&&define.amd&&define("imgix",[],function(){return i})}.call(this),function(){var t;t=null!=window.BC?window.BC:window.BC={},t.config={merchantId:"bigcartel",widths:{tiny:320,small:640,medium:840,large:1240,grand:1360},mobileViewPorts:["tiny","small"],desktopViewPorts:["medium","large","grand"],subdomainRange:{good:[0,300],"long":[260,310],longer:[260,325],longest:[300,332],notail:[332,600]},subdomainRangeSmall:{good:[0,142],"long":[123,160],longer:[136,177],longest:[161,180],notail:[180,600]},subdomainMax:63,analyticsKeys:{"bigcartel.biz":"aa8nknfr6x","bigcartel.com":"2wrhvg6q52"},domain:function(){var t;return t=_(window.location.host.split(".")).last(2).join("."),t.match(/bigcartel/)?t:"bigcartel.dev"},errors:{processing:{title:"Error",message:"There was an error processing your request. <br/> Please try again."},"default":{title:"Oops!",message:'Sorry we\'re having trouble with our billing system.<br/> Please <a href="mailto:support@bigcartel.com">contact support</a> if this persists<br/>or <a href="#gold" class="free-account-link">create a free account</a> for now.'}},baseApiUrl:function(){return[window.location.protocol,"//api.",this.domain()].join("")},signupUrl:function(){return[this.baseApiUrl(),"signup"].join("/")},braintreeClientTokenUrl:function(){return[this.baseApiUrl(),"v1","braintree_client_tokens"].join("/")},accountsUrl:function(){return[this.baseApiUrl(),"v1","accounts"].join("/")},signupValidationUrl:function(){return[this.baseApiUrl(),"validate_signup"].join("/")},analyticsKey:function(){return this.analyticsKeys[this.domain()]},analyticsEnabled:function(){return null!=this.analyticsKey()},currentViewPort:function(){return window.getComputedStyle(document.body,"::before").content.replace(/["']/g,"")}}}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},i=[].slice,o=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=null!=window.BC?window.BC:window.BC={},null==t.Lib&&(t.Lib={}),t.Lib.FormHandler=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,e),r.prototype.events=function(){return{"change input":"handleInputChange","keyup input":"handleInputKeyUp","focus input":"handleInputFocus",submit:"handleFormSubmit","click .show-password":"showPassword"}},r.prototype.set=function(t,e){return this.$("input[name="+t+"]").val(e)},r.prototype.getInputParts=function(t){var e,n,i;return e=$(t),i=e.closest(".form-input"),n=i.find("label"),[e,i,n]},r.prototype.handleInputFocus=function(t){var e,n,i,o;return o=this.getInputParts(t.currentTarget),e=o[0],i=o[1],n=o[2],i.removeClass("error"),n.text(n.data("text"))},r.prototype.handleInputChange=function(t){var e,n,i,o;return this.toggleSubmitButtonState(),o=this.getInputParts(t.currentTarget),e=o[0],i=o[1],n=o[2],_(e.val()).isEmpty()?i.removeClass("filled"):i.addClass("filled"),this.resetInputStates(i,n,"error","available","pending")},r.prototype.resetInputStates=function(){var t,e,n,o,r,s,a;for(e=arguments[0],t=arguments[1],o=3<=arguments.length?i.call(arguments,2):[],t.text(t.data("text")),a=[],r=0,s=o.length;s>r;r++)n=o[r],a.push(e.removeClass(n));return a},r.prototype.handleInputKeyUp=function(t){return this.handleInputChange(t)},r.prototype.toggleSubmitButtonState=function(){var t;return t=this.$("input[type=submit]"),t.toggleClass("ready",this.formIsValid())},r.prototype.renderErrors=function(t,e){var n;return n=["gateway.failture","generic-error","field.invalid"],_(t).each(function(t){return function(i){var r,s,a,l,u;return i instanceof Array?(a=i[0],l=i[1],_(i).isString()?void $(".errors").append("<div class='error'>"+i+"</div>"):(s=t.$(".form-"+a),r=s.find("label"),s.addClass("error"),"subdomain"===a&&s.addClass("filled"),e&&(l=r.data("text")+" "+l),null!=l?r.text(l):void 0)):(u=i.code,o.call(n,u)>=0||"Something went wrong"===i?t.renderModalError(i):t.renderBraintreeFieldError(i))}}(this))},r.prototype.renderModalError=function(){var e;return e=t.config.errors.processing,$("#error-modal .modal-title").html(e.title),$("#error-modal .modal-copy").html(e.message),$(".trigger-error").trigger("click"),$(".close-modal-wrapper").addClass("error")
},r.prototype.renderBraintreeFieldError=function(t){var e,n,i,r,s;return r={"gateway.rejected.cvv":".hosted-field.cvv","gateway.rejected.avs":".hosted-field.postal-code","gateway.rejected.expiration_date":".hosted-field.expiration-date"},i=Object.keys(r),s=t.code,o.call(i,s)>=0?(n=$(r[t.code]),e=n.find("label"),n.addClass("braintree-hosted-fields-invalid"),e.text(e.data("error"))):void this.renderModalError()},r.prototype.handleFormSubmit=function(t){return t.preventDefault()},r.prototype.showPassword=function(t){var e,n;return e=this.$(t.currentTarget).closest(".form-password"),n=e.find("input.password"),e.toggleClass("showing"),e.hasClass("showing")?n.attr("type","text"):n.attr("type","password")},r}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},t.HashHandler=function(t){function n(){return this.add=e(this.add,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.el=window,n.prototype.separator="/",n.prototype.chunks=[],n.prototype._on={add:{},remove:{}},n.prototype.events={hashchange:"handleHashChange"},n.prototype.initialize=function(t,e,i){return null==i&&(i=function(){}),this.bindHashEvents(t,e),this.processHash(),this.wasChangedByHandler(!1),window.handler=this,setTimeout(i,0),n.__super__.initialize.apply(this,arguments)},n.prototype.bindHashEvents=function(t,e){return _(t).each(function(t){return function(n,i){var o,r,s,a;if(a=i.split(" "),o=a[0],s=a[1],"function"==typeof e[n]&&(r=e[n]),"function"==typeof n&&(r=n),"function"!=typeof e[n]&&"function"!=typeof n)throw"Method "+n+" does not exist";return t._on[o][s]=_.bind(r,e)}}(this))},n.prototype.handleHashChange=function(){return this.wasChangedByHandler()||this.processHash(),this.wasChangedByHandler(!1)},n.prototype.processHash=function(){var t,e;return this.newChunks=this.getChunksFromHash(),e=_(this.chunks).difference(this.newChunks),t=_(this.newChunks).difference(this.chunks),setTimeout(function(n){return function(){return n.runOnAdd(t),n.runOnRemove(e)}}(this),0),this.chunks=this.newChunks},n.prototype.getChunksFromHash=function(){var t;return t=window.location.hash.replace("#",""),_.compact(_.unique(t.split(this.separator)))},n.prototype.remove=function(t,e){var n;return null==e&&(e=!1),_(t).isString()&&(this.chunks=_(this.chunks).without(t)),_(t).isArray()&&(this.chunks=(n=_(this.chunks)).without.apply(n,t)),this.chunks=_.compact(this.chunks),e||this.runOnRemove(t),this.updateHash(),this},n.prototype.add=function(t,e){var n,i;if(null==e&&(e=!1),_(t).isString()){if(_(this.chunks).contains(t))return;this.chunks.push(t)}if(_(t).isArray()){if((n=_(this.chunks)).contains.apply(n,t))return;(i=this.chunks).push.apply(i,t)}return this.chunks=_.unique(this.chunks),e||this.runOnAdd(t),this.updateHash(),this},n.prototype.set=function(t){return""===t?this.removeHash():window.location.hash=t},n.prototype.wasChangedByHandler=function(t){return void 0===t?this._changedByHandler:this._changedByHandler=t},n.prototype.removeHash=function(){return"function"==typeof window.history.replaceState?window.history.replaceState("",document.title,window.location.pathname):window.location.hash="",this.chunks=[]},n.prototype.updateHash=function(){return _(this.chunks).isEmpty()?this.removeHash():this.chunksMatchHash()?void 0:(this.wasChangedByHandler(!0),window.location.hash=this.chunksAsString())},n.prototype.chunksAsString=function(){return this.chunks.join(this.separator)},n.prototype.chunksMatchHash=function(){var t;return t=this.getChunksFromHash(),0===_.difference(this.chunks,t).length&&0===_.difference(t,this.chunks).length},n.prototype.runOnRemove=function(t){return _(t).isString()&&this._on.remove[t]&&this._on.remove[t](t),_(t).isArray()?_(t).each(function(t){return function(e){return"function"==typeof t._on.remove[e]?t._on.remove[e](e):void 0}}(this)):void 0},n.prototype.runOnAdd=function(t){return _(t).isString()&&this._on.add[t]&&this._on.add[t](t),_(t).isArray()?_(t).each(function(t){return function(e){return"function"==typeof t._on.add[e]?t._on.add[e](e):void 0}}(this)):void 0},n}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},t.Navigation=function(n){function o(){this.runScrollEvents=e(this.runScrollEvents,this);var t;o.__super__.constructor.apply(this,arguments),t=$("html").hasClass("touch")?_.debounce(this.runScrollEvents,250):_.throttle(this.runScrollEvents,250),this.scroller.addEventListener("scroll",t)}return i(o,n),o.prototype.el=null,o.prototype.scroller=window,o.prototype.threshold=5,o.prototype.runScrollEvents=function(){return this.updateLastKnownScroll()},o.prototype.updateLastKnownScroll=function(){return this.lastKnownScrollY(this.scrollY())},o.prototype.scrollDirection=function(){var t,e,n,i,o;return n=this.lastKnownScrollY(),i=this.scrollY(),t=this.bottomScrollY(),e=Math.abs(n-i),o=e>this.threshold,0>=i&&0===t?"noscroll":0>=i?"top":i>=t?"bottom":o&&n>i?"up":o&&i>n?"down":null},o.prototype.lastKnownScrollY=function(t){return null!=t&&(this._lastKnownScrollY=t),this._lastKnownScrollY},o.prototype.scrollY=function(t){return null!=t?this.setScrollY(t):this.getScrollY()},o.prototype.setScrollY=function(t){var e;return e=this.scroller===window?"html, window":this.scroller,$(e).animate({scrollTop:t})},o.prototype.getScrollY=function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},o.prototype.bottomScrollY=function(){return $(document).height()-$(window).height()},o.prototype.currentViewPort=function(){return t.config.currentViewPort()},o}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},t.Header=function(n){function o(){return this.handleScrollForHeader=e(this.handleScrollForHeader,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.el="header",o.prototype.threshold=5,o.prototype.events={"click .nav-fletch-link":"handleClickFletch","dblclick .head-nav":"toggleBreakPoint","click .navli>a":"handleClickNav"},o.prototype.runScrollEvents=function(t){return this.handleScrollForHeader(t),o.__super__.runScrollEvents.apply(this,arguments)},o.prototype.toggleBreakPoint=function(){return $("body").toggleClass("development")},o.prototype.handleClickFletch=function(e){return e.preventDefault(),_(t.config.mobileViewPorts).contains(this.currentViewPort())&&(this.$el.toggleClass("visible"),analytics.track(""+(this.$el.hasClass("visible")?"Opened":"Closed")+" Site Mobile Nav",{site:"V4"})),_(t.config.desktopViewPorts).contains(this.currentViewPort())?window.location.href=$(e.currentTarget).data("href"):void 0},o.prototype.handleScrollForHeader=function(){var t;return t=this.scrollDirection(),"down"===t&&this.$el.removeClass("default scrolling-up scrolled-top").addClass("scrolling-down"),"up"===t&&this.$el.removeClass("scrolled-top scrolling-down").addClass("scrolling-up"),"top"===t?this.$el.removeClass("scrolling-up scrolling-down").addClass("default scrolled-top"):void 0},o.prototype.handleClickNav=function(t){return $("html").hasClass("touch")?(t.preventDefault(),this.$el.removeClass("visible"),setTimeout(function(){return window.location.href=$(t.currentTarget).attr("href")},0)):void 0},o}(t.Navigation)}.call(this),function(){var t;t=null!=window.BC?window.BC:window.BC={},t.Router=Backbone.Router.extend({routes:{"(/)":"home","(/#tour)":"tour","examples(/)":"examples","signup(/)":"signup","team(/)":"team","jobs(/)":"jobs","404(/)":"x404"},home:function(){return analytics.page("Site Home",{site:"V4"}),this.view=new t.Pages.Home({active:".nav-home"})},tour:function(){return analytics.page("Site Tour",{site:"V4"}),this.view=new t.Pages.Home({active:".nav-tour"})},examples:function(){return analytics.page("Site Examples",{site:"V4"}),this.view=new t.Pages.Examples({active:".nav-examples"})},signup:function(){return analytics.page("Site Signup",{site:"V4"}),this.view=new t.Pages.Signup({active:".nav-signup"})},team:function(){return analytics.page("Site Team",{site:"V4"}),this.view=new t.Pages.Team({active:".nav-team"})},jobs:function(){return analytics.page("Site Jobs",{site:"V4"}),this.view=new t.Pages.Jobs({active:".nav-jobs"})},x404:function(){return this.view=new t.Pages.X404}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Lib.SubdomainInput=function(n){function o(){return this.setSubdomainAvailability=e(this.setSubdomainAvailability,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.el=".form-subdomain",o.prototype.subdomainTimer=null,o.prototype.subdomainXHR=null,o.prototype.subdomainCache={},o.prototype.events={click:"handleClick","focus .subdomain-edit":"handleFocus","keypress .subdomain-edit":"restrictInput","keyup .subdomain-edit":"handleKeyUp","blur .subdomain-edit":"handleBlur","change .subdomain":"handleSubdomainChange"},o.prototype.initialize=function(){return this.$subdomainEdit=this.$(".subdomain-edit"),this.$subdomain=this.$(".subdomain"),o.__super__.initialize.apply(this,arguments)},o.prototype.handleClick=function(){return this.activateSubdomain(),this.$(".subdomain-edit").focus()},o.prototype.handleFocus=function(t){return t.preventDefault(),this.activateSubdomain(),t.type.match("focus")?void 0:this.$subdomainEdit.focus()},o.prototype.handleSubdomainChange=function(){var e,n;return e=t.config.subdomainRange,("tiny"===this.currentViewPort()||"small"===this.currentViewPort())&&(e=t.config.subdomainRangeSmall),n=this.getLengthClass(e),this.$el.removeClass(_.keys(e).join(" ")),this.$el.addClass(n)},o.prototype.getLengthClass=function(t){var e,n,i,o;e=[];for(o in t)n=t[o],this.$el.hasClass(o)&&(i=o,e.push(this._setClass(i,n,t)));return e.join(" ")},o.prototype.activateSubdomain=function(){var t;return t=this.$("label"),this.$el.removeClass("error pending available").addClass("filled"),t.text(t.data("text"))},o.prototype.deactivateSubdomain=function(){var t;return t=this.$("label"),this.$el.removeClass("filled"),t.text(t.data("placeholder"))},o.prototype.restrictInput=function(t){var e;return 13===t.which?this.$el.trigger("submit")&&!1:t.metaKey||t.ctrlKey?!0:32===t.which?!1:0===t.which?!0:t.which<33?!0:(e=String.fromCharCode(t.which),/[\W_]+/g.test(e)?!1:void 0)},o.prototype.handleKeyUp=function(){var t;return t=this.$subdomainEdit.text().toLowerCase(),this.wasEdited=""!==t,this.currentValue!==t&&""!==t?(this.set(t),this.checkSubdomainAvailability(t)):void 0},o.prototype.get=function(){return this.$subdomainEdit.text()},o.prototype.set=function(t,e){return e&&(t=this.filterSubdomainInput(t),this.$subdomainEdit.text(t)),this.currentValue=t,this.$subdomain.val(this.currentValue).trigger("change"),this.toggleSubdomainState(),e?this.checkSubdomainAvailability(t):void 0},o.prototype.toggleSubdomainState=function(){return this.$subdomainEdit.text()>""?this.activateSubdomain():this.$subdomainEdit.is(":focus")?void 0:this.deactivateSubdomain()},o.prototype.filterSubdomainInput=function(e){return e.toLowerCase().replace(/[\W_]/g,"").substring(0,t.config.subdomainMax)},o.prototype.handleBlur=function(){return _(this.$subdomainEdit.text()).isEmpty()?this.deactivateSubdomain():this.checkSubdomainAvailability(this.get())},o.prototype.isSubdomainCached=function(t){return _.has(this.subdomainCache,t)},o.prototype.checkSubdomainAvailability=function(t){return clearTimeout(this.subdomainTimer),this.isSubdomainCached(t)?this.setSubdomainAvailability(t):t.length>=1?(this.setSubdomainStatus("pending","Checking on your shop URL"),this.subdomainTimer=setTimeout($.proxy(this.retrieveSubdomainAvailability,this,t),500)):void 0},o.prototype.abortXHR=function(){return clearTimeout(this.subdomainTimer),null!==this.subdomainXHR&&"object"==typeof this.subdomainXHR&&"function"==typeof this.subdomainXHR.abort?this.subdomainXHR.abort():void 0},o.prototype.retrieveSubdomainAvailability=function(e){return null!==this.subdomainXHR&&_.isFunction(this.subdomainXHR.abort)&&this.subdomainXHR.abort(),this.subdomainXHR=$.ajax({data:{subdomain:e},type:"post",url:t.config.signupValidationUrl(),complete:$.proxy(this.setSubdomainAvailability,this,e)})},o.prototype.setSubdomainAvailability=function(t,e,n){var i,o,r;if(void 0===e)return this.setSubdomainStatus(this.subdomainCache[t].available,this.subdomainCache[t].message);if("success"===n)i="available",r="Your shop URL is available",this.subdomainCache[t]={available:i,message:r};else{i="error";try{r=$.parseJSON(e.responseText).errors[0],r=r.indexOf("letters and numbers")>=0?"Only use letters/numbers without spaces":"Your shop URL "+r,this.subdomainCache[t]={available:i,message:"Your shop URL "+$.parseJSON(e.responseText).errors[0]}}catch(s){o=s,i=void 0,r=void 0}}return this.setSubdomainStatus(i,r)},o.prototype.setSubdomainStatus=function(t,e){var n;return this.$el.addClass("filled"),n=this.$el.find("label"),this.$el.removeClass("available error pending"),null!=t&&this.$el.addClass(t),n.text(e||n.data("text"))},o.prototype.currentViewPort=function(){return t.config.currentViewPort()},o.prototype._setClass=function(t,e,n){var i,o,r,s;return s=this.$subdomainEdit.width(),i=Object.keys(n).indexOf(t),r=Object.keys(n)[i-1],o=Object.keys(n)[i+1],s<e[0]?r:s>e[1]?o:t},o}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Lib&&(t.Lib={}),t.Lib.SignupForm=function(n){function o(){return this.handleSignupErrors=e(this.handleSignupErrors,this),this.handleSignupSuccess=e(this.handleSignupSuccess,this),this.resetFormState=e(this.resetFormState,this),this.formIsValid=e(this.formIsValid,this),this.setupBraintree=e(this.setupBraintree,this),this.showBilling=e(this.showBilling,this),this.doSignUp=e(this.doSignUp,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.el=".signup-form",o.prototype.events=function(){return _.extend({},o.__super__.events.apply(this,arguments),{"keyup .store_name":"handleKeyUpStoreName","blur .store_name":"checkStoreNameCharacterValidity","blur .contact_email":"validateEmail","keyup .password":"handleKeyUpPassword","change .form-agreement":"handleAgreementChange",submit:"handleFormSubmit","click .form-payment-toggle":"handlePaymentType","click .change-account":"handleChangeAccount"})},o.prototype.initialize=function(){return this.subdomain=new t.Lib.SubdomainInput({el:".form-subdomain"}),this.setIpAddress(),this.loadPasswordStrengthLib(),this.isBraintreeSetup=!1,this.isUsingBraintree="true"===t.Utils.getQueryParameter("braintree"),o.__super__.initialize.apply(this,arguments)},o.prototype.loadPasswordStrengthLib=function(){var t;return t=document.createElement("script"),t.src="/javascripts/vendor/zxcvbn-67b73ebe.js",t.async=!0,$("head").append(t)},o.prototype.handleAgreementChange=function(){return this.$(".form-agreement").removeClass("error")},o.prototype.checkStoreNameCharacterValidity=function(){var t,e;return e=["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"],t=new RegExp(e.join("|"),"g"),t.test($("input.store_name").val())?this.renderEmojiStoreNameError():void 0},o.prototype.renderEmojiStoreNameError=function(){return this.renderErrors([["store_name","Shop name cannot contain emoji"]])},o.prototype.handleKeyUpStoreName=function(){return this.checkStoreNameCharacterValidity(),null==this.$storeName&&(this.$storeName=this.$(".store_name")),this.subdomain.wasEdited?void 0:this.subdomain.set(this.$storeName.val(),!0)},o.prototype.handleFormSubmit=function(t){return t.preventDefault(),this.isUsingBraintree?this.doNewSignUp():this.doSignUp()},o.prototype.doSignUp=function(){var t;return t=this.$(".signup-button"),!t.hasClass("loading")&&(t.addClass("loading").val(t.data("cta_loading")),this.subdomain.abortXHR(),this.validateForm())?$.post(this.signupUrl(),this.formData()).success(this.handleSignupSuccess).error(this.handleSignupErrors):void 0},o.prototype.signupUrl=function(){var e;return e=$(".plan.selected").data("name"),t.config.signupUrl(e)},o.prototype.doNewSignUp=function(){var e;return e=this.$(".signup-button"),e.hasClass("loading")?void 0:(e.addClass("loading").val(e.data("cta_loading")),this.subdomain.abortXHR(),this.formIsValid()?$.ajax({data:{contact_email:this.$("input.contact_email").val(),store_name:this.$("input.store_name").val(),subdomain:this.$("input.subdomain").val()},type:"post",url:t.config.signupValidationUrl(),complete:function(t){return function(e){return 422===e.status&&t.handleSignupErrors(e),500===e.status&&t.renderModalError("Something went wrong"),200===e.status?$(".module.plan.gold").hasClass("selected")?t.createAccount():t.isBraintreeSetup===!1?t.setupBraintree():t.showBilling(!1):void 0}}(this)}):this.validateForm())},o.prototype.createAccount=function(e){return $.ajax({url:t.config.accountsUrl(),type:"POST",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},dataType:"json",data:JSON.stringify({data:{type:"accounts",attributes:{contact_email:$('input[name="contact_email"]').val(),store_name:$('input[name="store_name"]').val(),subdomain:$('input[name="subdomain"]').val(),password:$('input[name="password"]').val()},meta:{ip_address:$('input[name="ip_address"]').val(),plan_name:$('input[name="plan"]').val(),payment_method_nonce:e,payment_method_type:$(".form-payment-toggle.selected").data("payment-method-type"),braintree_device_data:$('input[name="device_data"]').val()}}}),success:this.handleSignupSuccess,error:this.handleSignupErrors})},o.prototype.showBilling=function(t){var e;return e=0,$(".store-form").hide(),$(".billing-form").show(),$(".signup-button").removeClass("loading"),$(".step-content:not(.step3)").removeClass("step-current"),$(".step3").addClass("step-current"),t&&window.scrollTo(0,e),this.toggleBillingButtonState()},o.prototype.setupBraintree=function(){return $.when(this.getBraintreeToken()).then(function(t){return function(e){var n;return n=e.data.id,braintree.setup(n,"custom",{id:"billing-form",paypal:{container:"paypal-container",onSuccess:function(e,n){return t.handlePaypalSuccess(n)}},hostedFields:{styles:{input:{"font-size":"15px",color:"#222","font-family":'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'}},number:{selector:"#hf-card-number"},cvv:{selector:"#hf-cvv"},expirationDate:{selector:"#hf-expiration-date"},postalCode:{selector:"#hf-postal-code"},onFieldEvent:function(e){return t.handleBraintreeFieldEvent(e)}},onReady:function(){return t.showBilling(!0),t.isBraintreeSetup=!0},onError:function(){},onPaymentMethodReceived:function(e){return t.handleBraintreePaymentMethodReceived(e)}})}}(this))},o.prototype.handlePaypalSuccess=function(t){return $(".form-payment-toggle").removeClass("selected"),$(".toggle-paypal").addClass("selected"),$(".billing-form").addClass("paypal-complete"),$(".billing-form-inputs").hide(),$(".paypal-form-inputs").show(),$(".paypal-success").val(t),$(".billing-button").addClass("ready")},o.prototype.handleBraintreeFieldEvent=function(t){var e,n;return n=$(t.target.container),e=n.find("label"),n.hasClass("braintree-hosted-fields-invalid")&&e.text(e.data("error")),t.isPotentiallyValid&&($(t.target.container).addClass("filled"),e=$(t.target.container).find("label"),e.text(e.data("text"))),this.toggleBillingButtonState(),this.showCard(t.card)},o.prototype.handleBraintreePaymentMethodReceived=function(t){var e;return e=$(".billing-button"),e.addClass("loading").val(e.data("cta_loading")),$("body").addClass("loading"),this.createAccount(t.nonce)},o.prototype.toggleBillingButtonState=function(){return $(".toggle-credit").hasClass("selected")?$(".billing-button").toggleClass("ready",$(".hosted-field").length===$(".braintree-hosted-fields-valid").length):void 0},o.prototype.showCard=function(t){var e;return e="generic",null!==t&&(e=t.type),$(".card-icon").removeClass().addClass("card-icon "+e)},o.prototype.getBraintreeToken=function(){return $.ajax({url:t.config.braintreeClientTokenUrl(),type:"POST",headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"},dataType:"json",data:JSON.stringify({data:{type:"braintree_client_tokens"}}),error:this.handleSignupErrors})},o.prototype.handlePaymentType=function(t){var e;return $(t.currentTarget).hasClass("toggle-paypal")?$("#braintree-paypal-button img").trigger("click"):($(".form-payment-toggle").removeClass("selected"),$(t.currentTarget).addClass("selected"),$(".billing-form").removeClass("paypal-complete"),$(".billing-form-inputs").show(),$(".paypal-form-inputs").hide(),e=$(t.target.container).find("label"),e.text(e.data("text")),this.toggleBillingButtonState())},o.prototype.handleChangeAccount=function(){return $("#braintree-paypal-button img").trigger("click")},o.prototype.validateForm=function(){return this.formIsValid()?!0:(this.renderErrors(this.$validationErrors),this.scrollToFirstError(),!1)},o.prototype.validateEmail=function(){var t,e;return t=this.$("input.contact_email").val(),""!==t?(e=this.emailErrors(),this.renderErrors(e)):void 0},o.prototype.emailErrors=function(){var t,e;return t=[],e=this.$("input.contact_email").val(),""===e?t.push(["contact_email","Email can't be blank"]):/^([^@\s]+)@((?:[-a-zA-Z0-9]+\.)+[a-zA-Z]{2,})$/.test(e)||t.push(["contact_email","Must use a valid email"]),t},o.prototype.formIsValid=function(){var t,e,n,i,o;return t=[],""===this.$("input.store_name").val()&&t.push(["store_name","Shop name can't be blank"]),i=$("input.subdomain").val(),o=$(".form-subdomain").hasClass("error"),""===i?t.push(["subdomain","Shop URL can't be blank"]):i.length<2?t.push(["subdomain","Use at least two characters"]):/\W+/.test(i)?t.push(["subdomain","Use only letters/numbers without spaces"]):o&&t.push(["subdomain","Your shop URL has already been taken"]),t=t.concat(this.emailErrors()),e=this.$("input.password").val(),""===e?t.push(["password","Password can't be blank"]):e.length<4&&t.push(["password","Use at least four characters"]),this.$("input.agreement").is(":checked")||t.push(["agreement"]),n=$(".form-store_name").hasClass("error"),n&&t.push(["store_name","Shop name cannot contain emoji."]),0===t.length?!0:(this.resetFormState(),this.$validationErrors=t,!1)},o.prototype.formData=function(){return $(".store-form").serialize()},o.prototype.resetFormState=function(){var t,e;return $("body").removeClass("loading"),e=this.$(".signup-button"),e.removeClass("loading").val(e.data("cta")),t=this.$(".billing-button"),t.removeClass("loading").val(t.data("cta"))},o.prototype.scrollToFirstError=function(){var t;return t=$(".form-input.error").first(),t.length?$(window).scrollTop(t.offset().top-100):void 0},o.prototype.handleSignupSuccess=function(t){var e,n,i,o;this.isUsingBraintree?(i=function(){return location.href=t.data.meta.login_url},o=t.data.id):(i=function(){return location.href=t.location},o=t.id);try{return n=$(".plan.selected").data(),e=null!=analytics.user().id(),this.trackConvertGoal(o,n.revenue),analytics.timeout(2e3),e||analytics.alias(o),analytics.identify(o,{},{integrations:{GoSquared:!1}}),analytics.track("Completed Order",{site:"V4",orderId:o,total:n.revenue,revenue:n.revenue,currency:"USD",products:[{id:n.permalink,sku:n.permalink,name:n.name,price:n.revenue,quantity:1,category:"Plans"}],integrations:{All:!1,"Google Analytics":!0}}),analytics.track("Signed Up",{site:"V4",plan:n.name,has_existing_account:e},i)}catch(r){return i()}},o.prototype.handleSignupErrors=function(t){var e;try{e=$.parseJSON(t.responseText).errors}catch(n){e=["Something went wrong"]}finally{this.signUpErrorsOnEmoji(e)?this.renderEmojiStoreNameError():this.renderErrors(e,!0)}this.resetFormState()},o.prototype.signUpErrorsOnEmoji=function(t){var e,n,i;return i=/Store name contains invalid/,n=t.store_name&&i.test(t.store_name[0]),e=t[0]&&i.test(t[0][1]),n||e},o.prototype.setIpAddress=function(){return $.ajax({url:"https://api.ipify.org?format=jsonp",dataType:"jsonp",jsonpCallback:"getIP",cache:!0}).done(function(){return function(t){var e;return e=$("<input>").attr({name:"ip_address",value:t.ip,type:"hidden"}),$(".store-form").append(e)}}(this))},o.prototype.getPassword=function(){return null==this.password&&(this.password=$(".password")),this.password.val()},o.prototype.setPasswordStrength=function(t){return null==this.formPassword&&(this.formPassword=$(".form-password")),this.formPassword.attr("data-strength",t)},o.prototype.determinePasswordScore=function(t){return 0===t.length||"function"!=typeof zxcvbn?!1:t.length<4?-1:"function"==typeof zxcvbn&&zxcvbn(t).score},o.prototype.handleKeyUpPassword=function(){return this.setPasswordStrength(this.determinePasswordScore(this.getPassword()))},o.prototype.trackConvertGoal=function(t,e){return"www.bigcartel.com"===location.host?(window._conv_q=window._conv_q||[],window._conv_q.push(["sendRevenue",t.toString(),e,1,"100015686"])):void 0},o}(t.Lib.FormHandler)}.call(this),function(){var t;t=null!=window.BC?window.BC:window.BC={},t.Utils={},t.Utils.getQueryParameter=function(t){var e,n,i;return e=window.location.search,t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),t="[\\?&]"+t+"=([^&#]*)",n=new RegExp(t),i=n.exec(e),null===i?"":i[1]}}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Base=function(n){function o(){return this.makeMobileSlides=e(this.makeMobileSlides,this),this.runWidthResizeHandlers=e(this.runWidthResizeHandlers,this),this.setupImgix=e(this.setupImgix,this),this.onHashInitialize=e(this.onHashInitialize,this),o.__super__.constructor.apply(this,arguments)}return i(o,n),o.prototype.el="body",o.prototype.bleedHeight=.7,o.prototype.ctaHeight=.4,o.prototype.mobileViewPorts="tiny small".split(" "),o.prototype.desktopViewPorts="medium large grand".split(" "),o.prototype._swapImageDelay=!1,o.prototype._initialWidth=$(window).width(),o.prototype._lastWidth=$(window).width(),o.prototype.hashEvents=function(){var t;return t={},$("[data-video][data-hash]").each(function(){return t["add "+$(this).data("hash")]="playVideoByHash"}),t},o.prototype.events=function(){return{"click .close-modal":"closeModal","click .slick-dots":"handleClickDots","click .show-modal":"handleModalButton",keyup:"trapEsc"}},o.prototype.handleClickDots=function(t){return t.stopPropagation(),t.preventDefault(),$(t.currentTarget).closest(".slick-slider").slickPause()},o.prototype.initialize=function(e){return this.hashHandler=new t.HashHandler(_.result(this,"hashEvents"),this,this.onHashInitialize),this.classifyFeatures(),this.scaleBleedModules(),this.header=new t.Header,e.active&&this.routeActiveElements(e.active),this.stickylogo(),this.addNoTouch(),this.addTouch(),this.setupImgix(),this.makeMobileSlides(),this.onWidthResize(this.makeMobileSlides),$(window).on("resize",_.debounce(this.runWidthResizeHandlers,400)),this.enableDelayedAnimations(),wt.fix({elements:".body-copy",chars:14,method:"nbsp",event:"resize",dir:"pos"}),this.recordGreenhouseSource(),this.trackSocialProfileLinks(),o.__super__.initialize.call(this,e)},o.prototype.onHashInitialize=function(){return this.$el.addClass("hash-initialized")},o.prototype.scaleBleedModules=function(){return $(".module-bleed").height(this.getWindowHeight()*this.bleedHeight),$(".module-cta").height(this.getWindowHeight()*this.ctaHeight),window.devicePixelRatio>1&&navigator.userAgent.indexOf("Chrome")>-1?$(".module-bleed, .module-cta").css("background-attachment","scroll"):void 0},o.prototype.getWindowHeight=function(){return $(window).height()},o.prototype.getWindowWidth=function(){return $(window).width()},o.prototype.currentViewPort=function(){return window.getComputedStyle(document.body,"::before").content.replace(/["']/g,"")},o.prototype.addNoTouch=function(){return"ontouchstart"in document.documentElement?void 0:$("body").addClass("notouch")},o.prototype.addTouch=function(){return"ontouchstart"in document.documentElement?$("body").addClass("touch"):void 0},o.prototype.trapEsc=function(t){return 27===t.keyCode?this.closeModal(this.$(".modal-wrap.visible")):void 0},o.prototype.closeModal=function(t){var e,n;return t.preventDefault(),e="string"==typeof t?$("#"+t+"-modal").filter(".modal-wrap"):$(null!=t.currentTarget?".modal-wrap.visible":t),e.length>0&&e.hasClass("visible")?(e.removeClass("visible"),$("body").removeClass("modal-open"),this.hasFeature("touch")&&($(".content").css({top:"auto"}),$(window).scrollTop(this.scrollTopBeforeModal)),n=e.attr("id").replace("-modal","").replace("#",""),this.hashHandler.remove(n),$(".close-modal").removeClass("error"),$(".close-modal-wrapper").removeClass("error")):void 0},o.prototype.showModal=function(t){var e;return this.scrollTopBeforeModal=window.scrollY,t=t.replace("#",""),e=$("#"+t+"-modal"),e.hasClass("modal-wrap")?($("body").addClass("modal-open"),e.find(".modal-inner").scrollTop(0),this.hashHandler.add(t,!0),e.find(".modal-inner").scrollTop(0),this.hasFeature("touch")&&$(".content").css({top:"-"+this.scrollTopBeforeModal+"px"}),e.addClass("visible"),analytics.track("Viewed Site Modal",{site:"V4",modal:e.find("h2").text()})):void 0},o.prototype.handleModalButton=function(t){var e;return e=$(t.currentTarget),e.is("[href^=#]")?(t.preventDefault(),this.showModal(e.attr("href"))):void 0},o.prototype.setupImgix=function(){return imgix.onready(function(){return function(){return imgix.fluid({autoInsertCSSBestPractices:!0})}}(this))},o.prototype.onWidthResize=function(t){return null==this._widthResizeHandlers&&(this._widthResizeHandlers=[]),this._widthResizeHandlers.push(t)},o.prototype.runWidthResizeHandlers=function(){return this._lastWidth!==$(window).width()&&_(this._widthResizeHandlers).each(function(){return function(t){return t()}}(this)),this._lastWidth=$(window).width()},o.prototype.classifyFeatures=function(){var t,e;return t=[],("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&t.push("touch"),e=t.join(" "),$("html").addClass(e)},o.prototype.hasFeature=function(t){return $("html").hasClass(t)},o.prototype.routeActiveElements=function(t){return $(t).addClass("active")},o.prototype.makeMobileSlides=function(){var t,e;return e="tiny"===this.currentViewPort()&&this.hasFeature("touch"),t=$(".mobile-slides"),t.each(function(){return function(t,n){var i,o;return i=$(n),o=i.hasClass("slick-initialized"),e&&!o?void i.slick({dots:!1,autoplay:!1,autoplaySpeed:7e3,centerMode:!0,centerPadding:"40px",slidesToShow:1,slide:":not(.module-clear):not(form)",arrows:!1,customPaging:function(t,e){return'<button type="button" data-role="none" class="slick-dot">'+(e+1)+"</button>"}}):!e&&o&&o?i.unslick():void 0}}(this))},o.prototype.enableDelayedAnimations=function(){return setTimeout(function(t){return function(){return t.$el.addClass("animations-on")}}(this),750)},o.prototype.playVideoByHash=function(t){return $("[data-video][data-hash='"+t+"']").click()},o.prototype.fancyBox=function(){var e,n,i;return i=this,e="",$('[href*="vimeo.com"]').fancybox({aspectRatio:!0,autoSize:!1,arrows:!1,nextEffect:"none",prevEffect:"none",beforeLoad:function(){var n;return n=this.element,this.width=n.data("fancybox-width")?n.data("fancybox-width"):t.config.widths[i.currentViewPort()],this.height=n.data("fancybox-height")?n.data("fancybox-height"):.5625*this.width,analytics.track("Played Video",{site:"V4",video:n.data("video")}),e=n.attr("id"),(void 0===e||""===e)&&(e="player-vimeo"),this.href=this.href+"&api=1&player_id="+e,this.tpl.iframe='<iframe id="'+e+'" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen ></iframe>'
},afterLoad:function(t){var e,i;return e=$(t.content)[0],i=$f(e),i.addEvent("ready",function(){return i.addEvent("finish",n)})},height:540,helpers:{overlay:{locked:!1}},padding:0,title:null,type:"iframe",width:960}),n=function(){return $.fancybox.next()}},o.prototype.recordGreenhouseSource=function(){var e;return e=t.Utils.getQueryParameter("gh_src"),""!==e?sessionStorage.setItem("gh_src",e):void 0},o.prototype.trackSocialProfileLinks=function(){return analytics.trackLink($("a[data-social]"),"Viewed Social Profile",function(t){return{site:"V4",platform:$(t).data("social")}})},o.prototype.stickylogo=function(){return $(window).scroll(function(){var t;t=$(window).scrollTop(),t>=50||$("body").hasClass("modal-open")?$(".is-sticky").addClass("sticky"):$(".is-sticky").removeClass("sticky")})},o}(Backbone.View)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Examples=function(t){function n(){return this.toggleOverlay=e(this.toggleOverlay,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.hashEvents=function(){return _.extend({},n.__super__.hashEvents.apply(this,arguments),{"add leahgoren":"showModal","add windingwheelsupply":"showModal","add pelle":"showModal","remove leahgoren":"closeModal","remove windingwheelsupply":"closeModal","remove pelle":"closeModal"})},n.prototype.events=function(){return _.extend({},n.__super__.events.apply(this,arguments),{"click .feature-store a,.store a":"trackExampleClick"})},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.hasFeature("touch")?$(".feature-store, .store").on("click",this.toggleOverlay):void 0},n.prototype.toggleOverlay=function(t){return $(t.currentTarget).toggleClass("tapped")},n.prototype.trackExampleClick=function(t){return analytics.track("Viewed Example Store",{site:"V4",store:$(t.target).text()})},n}(t.Pages.Base)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Home=function(t){function n(){return this.activateControls=e(this.activateControls,this),this.fadeInBgVid=e(this.fadeInBgVid,this),this.navigationHander=e(this.navigationHander,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.videoRun=!1,n.prototype.hashEvents=function(){return _.extend({},n.__super__.hashEvents.apply(this,arguments),{"add features":"showModal","remove features":"closeModal"})},n.prototype.events=function(){return _.extend({},n.__super__.events.apply(this,arguments),{"click .watch-video":"openHomeVid","click .homevid-action":"toggleHomeVidAction","click .homevid-seeker":"seekHomeVid","click .homevid-close":"closeHomeVid","click .slide-text>a":function(t){return t.stopPropagation()}})},n.prototype.initialize=function(t){var e;return this.tourSectionViewed=!1,this.$bgvid=$("#bgvid"),this.$bgvid.on("playing",this.fadeInBgVid),_.delay(function(t){return function(){return t.$bgvid.get(0).play()}}(this),2e3),this.setupHomeVid(),e={dots:!0,autoplay:!1,autoplaySpeed:7e3,arrows:!0,customPaging:function(t,e){return'<button type="button" data=role="none" class="slick-dot">'+(e+1)+"</button>"}},this.featuredSlides=$(".windowed-slider-content").slick(_.extend(e,{asNavFor:".site-credit-slider"})),this.slides=$(".slides").slick(_.extend({},e,{dots:!1,autoplaySpeed:3500})),this.siteCreditSlides=$(".site-credit-slider").slick(_.extend(e,{slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1,fade:!1,asNavFor:".windowed-slider-content"})),this.fancyBox(),this.tourNav=$(".nav-tour"),this.homeNav=$(".nav-home"),this.tourContentOffset=$("#tour").offset().top,this.tourNav.on("click",function(t){return function(e){return e.preventDefault(),$("header").removeClass("visible"),t.tourNav.addClass("active"),t.homeNav.removeClass("active"),$("html,body").animate({scrollTop:t.tourContentOffset},"slow")}}(this)),"#tour"===window.location.hash&&(this.tourSectionViewed||(analytics.page("Site Tour",{site:"V4"}),this.tourSectionViewed=!0),this.tourNav.addClass("active"),this.homeNav.removeClass("active")),$(window).on("scroll",_.throttle(this.navigationHander,800)),analytics.trackLink($('a[href*="itunes"]'),"Viewed iOS App",{site:"V4"}),n.__super__.initialize.call(this,t)},n.prototype.navigationHander=function(){var t,e;return e="",t=window.location.hash,""===t&&(t="/"),$(window).scrollTop()>=this.tourContentOffset-10?(this.tourNav.addClass("active"),this.homeNav.removeClass("active"),this.tourSectionViewed||(analytics.page("Site Tour",{site:"V4"}),this.tourSectionViewed=!0),e="#tour"):(this.tourNav.removeClass("active"),this.homeNav.addClass("active"),e="/"),history.pushState&&e!==t?history.replaceState(e,null,e):void 0},n.prototype.fadeInBgVid=function(){return this.$bgvid.css("opacity",1)},n.prototype.openHomeVid=function(t){return null==t&&(t=null),null!==t&&t.preventDefault(),this.$bgvid.get(0).pause(),this.$videoLink=this.$(".watch-video").addClass("loading"),this.videoDelay=setTimeout(function(t){return function(){return t.video.play()}}(this),1e3)},n.prototype.setupHomeVid=function(){var t,e;return this.$videoWrap=this.$(".homevid-wrap"),this.$video=this.$("#homevid"),$(window).width()<700&&(e=this.$video.data("alt-webm"),t=this.$video.data("alt-mp4"),this.$video.html("<source src='"+e+"' type='video/webm'> <source src='"+t+"' type='video/mp4'>")),this.$video.on("play",function(t){return function(){return t.$(".homevid-action").addClass("playing"),analytics.track("Played Video",{site:"V4",video:t.$videoLink.data("video")})}}(this)),this.$video.on("webkitendfullscreen",function(t){return function(){return t.closeHomeVid()}}(this)),this.$video.on("timeupdate",function(t){return function(){var e;return!t.videoRun&&t.$video[0].currentTime>.1002&&(t.$videoLink.addClass("loaded"),t.$videoWrap.addClass("visible"),t.videoRun=!0),e=100/t.$video[0].duration*t.$video[0].currentTime,t.$(".homevid-current").width(e+"%")}}(this)),this.$video.on("ended",function(t){return function(){return t.closeHomeVid()}}(this)),this.video=this.$video[0],$(window).on("mousemove",this.activateControls),$(".homevid-wrap").on("touchend",this.activateControls)},n.prototype.toggleHomeVidAction=function(t){var e;return e=this.$(t.currentTarget),e.toggleClass("playing"),e.hasClass("playing")?this.video.play():this.video.pause()},n.prototype.seekHomeVid=function(t){var e,n,i,o;return o=$(".homevid-seeker").width(),n=t.offsetX,i=n/o,e=this.video.duration*i,this.video.currentTime=e},n.prototype.closeHomeVid=function(){return clearTimeout(this.videoDelay),this.video.pause(),this.video.currentTime=0,this.$videoWrap.removeClass("visible"),this.$(".homevid-action").removeClass("playing"),this.$videoLink.removeClass("loading loaded"),this.videoRun=!1,setTimeout(function(){return $("#bgvid").get(0).play()},750)},n.prototype.activateControls=function(){return clearTimeout(this.mousingTimeout),this.$videoWrap.addClass("mousing"),this.mousingTimeout=setTimeout(function(t){return function(){return t.$videoWrap.removeClass("mousing")}}(this),1300)},n}(t.Pages.Base)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Jobs=function(t){function n(){return this.toggleJob=e(this.toggleJob,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.hashEvents=function(){var t;return t={},$(".module-job[data-hash]").each(function(){return t["add "+$(this).data("hash")]="openJob",t["remove "+$(this).data("hash")]="closeJob"}),t},n.prototype.initialize=function(t){return $(".module-job[data-hash]").each(function(){return $(this).data("scrollTop",$(this).position().top-100)}).on("click",".job-title, .job-skills, .job-more-trigger",this.toggleJob),n.__super__.initialize.call(this,t),this.fancyBox(),this.trackGreenhouseSource()},n.prototype.toggleJob=function(t){var e,n;return e=$(t.currentTarget).closest(".module-job"),n=e.data("hash"),e.hasClass("job-active")?(this.closeJob(n),$(".module-job.job-active").length?void 0:this.hashHandler.removeHash()):(this.openJob(n),this.hashHandler.set(n))},n.prototype.openJob=function(t){var e,n,i;return e=$(".module-job[data-hash='"+t+"']").addClass("job-active"),i=e.offset().top-$(window).scrollTop(),n=i<window.innerHeight,n?void 0:$("html,body").animate({scrollTop:i-"90"},1e3)},n.prototype.closeJob=function(t){return $(".module-job[data-hash='"+t+"']").removeClass("job-active")},n.prototype.trackGreenhouseSource=function(){var t;return t=sessionStorage.getItem("gh_src"),t?$("a.job-cta").each(function(){return this.href=this.href.replace(/gh_src=[^&#]*([&#].*)?/,"gh_src="+t+"$1")}):void 0},n}(t.Pages.Base)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Signup=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,e),i.prototype.hashEvents=function(){return _.extend({},i.__super__.hashEvents.apply(this,arguments),{"add gold":"selectPlan","remove gold":"cancelPlan","add platinum":"selectPlan","remove platinum":"cancelPlan","add diamond":"selectPlan","remove diamond":"cancelPlan","add titanium":"selectPlan","remove titanium":"cancelPlan","add faq":"showModal","add features":"showModal","add error":"showModal","remove faq":"closeModal","remove features":"closeModal","remove error":"closeModal"})},i.prototype.events=function(){return _.extend({},i.__super__.events.apply(this,arguments),{"click .plan-action":"handlePlanAction","click .change-plan":"cancelSelectedPlan"})},i.prototype.initialize=function(e){return this.signupForm=new t.Lib.SignupForm,this.$showFaqButton=this.$(".show-faq-module").hide(),this.on("do-step:2",this.injectStep2Copy),i.__super__.initialize.call(this,e)},i.prototype.injectStep2Copy=function(){var t,e;return t=$(".plan.selected"),$(".copy-products").text(t.find(".plan-products").text()),e=t.find(".plan-price").text(),$(".copy-price").text("Free"===e?"free":""+e+" per month")},i.prototype.showFeatures=function(t){return t.stopPropagation&&t.stopPropagation(),this.showModal("#features")},i.prototype.showFaq=function(){return this.showModal("#faq"),this.hashHandler.add("faq")},i.prototype.closeModal=function(t){var e;return e=$(t.currentTarget).closest(".modal-wrap").attr("id"),this.hashHandler.remove(e),i.__super__.closeModal.call(this,t)},i.prototype.getPlans=function(){return this.$(".plan").map(function(t,e){return $(e).data("permalink")})},i.prototype.selectPlan=function(t){var e,n,i,o;return n=$("string"==typeof t?".plan."+t:t),i=n.closest(".plans"),o=_(this.getPlans()).without(n.data("permalink")),this.hashHandler.remove(o,!0),n.hasClass("selected")||(i.addClass("selecting").find(".plan").removeClass("selected"),this.$(".store-form").show(),this.$(".billing-form").hide(),this.$(".signup-button").removeClass("billing").val(n.data("cta")).data("cta",n.data("cta")).data("cta_loading",n.data("cta-loading")),this.$(".billing-button").data("cta",n.data("cta-billing")).data("cta_loading",n.data("cta-loading")),n.addClass("selected"),e=n.find(".plan-cta"),e.text(e.data("cancel")),this.doStep(2)),this.signupForm.set("plan",n.data("permalink")),analytics.track("Selected Plan",{site:"V4",plan:n.data("name")})},i.prototype.doStep=function(t){return $(".step-content:not(.step"+t+")").removeClass("step-current"),$(".step"+t).addClass("step-current"),this.trigger("do-step:"+t)},i.prototype.cancelPlan=function(t){var e;return e=$("string"==typeof t?".plan."+t:t),e.hasClass("selected")?this.cancelSelectedPlan():void 0},i.prototype.handlePlanAction=function(t){var e;return t.stopPropagation(),t.preventDefault(),e=$(t.currentTarget).closest(".plan"),e.hasClass("selected")?this.cancelSelectedPlan(t):this.scrollToSignup(function(t){return function(){return t.hashHandler.add(e.data("permalink"))}}(this))},i.prototype.cancelSelectedPlan=function(t){var e,n,i;return document.activeElement.blur(),t&&t.stopPropagation(),n=$(".plans"),e=$(".plan"),i=$(".selected.plan"),i.find(".plan-cta").text(i.find(".plan-cta").data("signup")),n.removeClass("selecting"),e.removeClass("selected"),$("input.plan").val(""),this.hashHandler.remove(i.data("permalink")),this.$(".show-faq-module").show(),this.doStep(1)},i.prototype.scrollToSignup=function(t){var e,n,i;if(n=this.currentViewPort(),$(".store-form").show(),$(".billing-form").hide(),e=0,i=$(window).scrollTop(),!(i>200||i>e+200||this.hasFeature("touch")))return t();switch(n){case"medium":case"small":return $("html,body").animate({scrollTop:0},300,t);case"tiny":return t(),window.scrollTo(0,e);default:return t()}},i}(t.Pages.Base)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.Team=function(t){function n(){return this.onVideoTimeUpdate=e(this.onVideoTimeUpdate,this),this.markVideoPaused=e(this.markVideoPaused,this),this.markVideoPlaying=e(this.markVideoPlaying,this),this.markVideoLoaded=e(this.markVideoLoaded,this),this.stopVideo=e(this.stopVideo,this),this.playVideo=e(this.playVideo,this),n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.touchMoved=!1,n.prototype.muteVideos=!0,n.prototype.playDelay=300,n.prototype.events=function(){return _.extend({},n.__super__.events.apply(this,arguments),{"click .video-play-pause":"handleMouseClick","click .video-mute":"handleVideoMuteToggle","touchstart .member-portrait":"touchStartVideo","touchmove .member-portrait":_.throttle(this.touchMoveVideo,200),"touchend .member-portrait":"touchEndVideo"})},n.prototype.initialize=function(t){return $(".member-video").on("loadeddata",this.markVideoLoaded),$(".member-video").on("playing",this.markVideoPlaying),$(".member-video").on("pause",this.markVideoPaused),$(".member-video").on("timeupdate",this.onVideoTimeUpdate),this.loaderTemplate=_.template($("#loaderTemplate").text()),n.__super__.initialize.call(this,t)},n.prototype.handleMouseClick=function(t){var e,n,i,o,r;for(n=$(t.currentTarget).closest(".member-portrait"),e=$(".member-portrait.playing"),o=0,r=e.length;r>o;o++)i=e[o],this.stopVideo($(i));return n.data("playing")||n.hasClass("hovering")?(this.stopVideo(n),this.clearLoader()):n.data("play-delay",setTimeout(function(t){return function(){return t.playVideo(n)}}(this),this.playDelay))},n.prototype.playVideo=function(t){var e;return this.clearLoader(),this.loader=$(this.loaderTemplate()),e=t.find(".member-video"),t.find(".video-poster").append(this.loader),t.addClass("hovering"),t.toggleClass("muted",this.muteVideos),e[0].muted=this.muteVideos,e[0].play()},n.prototype.stopVideo=function(t){return clearTimeout(t.data("play-delay")),t.find(".member-video")[0].pause()},n.prototype.handleVideoMuteToggle=function(){var t;return this.muteVideos=!this.muteVideos,t=$(".playing").find("video").get(0),t.muted=this.muteVideos,$(t).closest(".member-portrait").toggleClass("muted",this.muteVideos)},n.prototype.touchStartVideo=function(){this.touchMoved=!1},n.prototype.touchMoveVideo=function(){this.touchMoved||(this.touchMoved=!0)},n.prototype.touchEndVideo=function(t){this.touchMoved||this.toggleVideoState($(t.currentTarget))},n.prototype.toggleVideoState=function(t){return t.data("playing")?this.stopVideo(t):this.playVideo(t)},n.prototype.markVideoLoaded=function(t){return this.hasFeature("touch")?void 0:$(t.currentTarget).closest(".member-portrait").addClass("loaded")},n.prototype.markVideoPlaying=function(){},n.prototype.markVideoPaused=function(t){var e,n;return n=t.currentTarget,e=$(t.currentTarget).closest(".member-portrait"),n.currentTime=0,e.removeClass("playing hovering"),e.data("playing",!1)},n.prototype.onVideoTimeUpdate=function(t){var e;return e=$(t.currentTarget).closest(".member-portrait"),!e.data("playing")&&t.currentTarget.currentTime>0?(e.addClass("playing"),e.data("playing",!0),this.clearLoader()):void 0},n.prototype.clearLoader=function(){return this.loader?this.loader.remove():void 0},n}(t.Pages.Base)}.call(this),function(){var t,e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};t=null!=window.BC?window.BC:window.BC={},null==t.Pages&&(t.Pages={}),t.Pages.X404=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e}(t.Pages.Base)}.call(this),function(){var t;t=null!=window.BC?window.BC:window.BC={},$(function(){return t.router=new t.Router,Backbone.history.start({hashChange:!1})})}.call(this),function(){}.call(this);